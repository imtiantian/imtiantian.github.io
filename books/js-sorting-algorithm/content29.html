<div id="pf1d" class="pf w0 h0" data-page-no="1d"><div class="pc pc1d w0 h0"><img class="bi x0 y0 w3 h7" style="height: 440px;margin-bottom: 700px;" alt="" src="heapSort.gif"/><div class="c x0 y10 w2 h8"><div class="t m0 x7 ha y107 ff3 fs2 fc0 sc0 ls0 ws6">3.JavaScript<span class="ff2 ws7">代码实现</span></div></div><div class="c x0 y10 w2 h1e"><div class="t m0 xa hd y108 ff4 fs3 fc3 sc0 ls0 ws8">var<span class="fc0">len;<span class="fc5">//<span class="ff2 ws9">因为声明的多个函数都需要数据长度，所以把</span>len<span class="ff2 ws9">设置成为全局变量</span></span></span></div><div class="t m0 xa hd y109 ff4 fs3 fc3 sc0 ls0 ws8">function<span class="fc4"><span class="fc5">buildMaxHeap</span>(<span class="fc6">arr</span>)<span class="fc0">{<span class="fc5">//<span class="ff2 ws9">建立大顶堆</span></span></span></span></div><div class="t m0 xa hc y10a ff4 fs3 fc0 sc0 ls0 ws8">len=arr.length;</div><div class="t m0 xa hc y10b ff4 fs3 fc0 sc0 ls0 ws8"><span class="fc3">for</span>(<span class="fc3">var</span>i=<span class="fc6">Math</span>.floor(len/<span class="fc6">2</span>);i&gt;=<span class="fc6">0</span>;i--){</div><div class="t m0 xa hc y10c ff4 fs3 fc0 sc0 ls0 ws8">heapify(arr,i);</div><div class="t m0 xa hc y10d ff4 fs3 fc0 sc0 ls0 ws8">}</div><div class="t m0 xa hc y10e ff4 fs3 fc0 sc0 ls0">}</div><div class="t m0 xa hd y10f ff4 fs3 fc3 sc0 ls0 ws8">function<span class="fc4"><span class="fc5">heapify</span>(<span class="fc6">arr,i</span>)<span class="fc0">{<span class="fc5">//<span class="ff2 ws9">堆调整</span></span></span></span></div><div class="t m0 xa hc y110 ff4 fs3 fc0 sc0 ls0 ws8"><span class="fc3">var</span>left=<span class="fc6">2</span>*i+<span class="fc6">1</span>,</div><div class="t m0 xa hc y111 ff4 fs3 fc0 sc0 ls0 ws8">right=<span class="fc6">2</span>*i+<span class="fc6">2</span>,</div><div class="t m0 xa hc y112 ff4 fs3 fc0 sc0 ls0 ws8">largest=i;</div><div class="t m0 xa hc y113 ff4 fs3 fc0 sc0 ls0 ws8"><span class="fc3">if</span>(left&lt;len&amp;&amp;arr[left]&gt;arr[largest]){</div><div class="t m0 xa hc y114 ff4 fs3 fc0 sc0 ls0 ws8">largest=left;</div><div class="t m0 xa hc y115 ff4 fs3 fc0 sc0 ls0 ws8">}</div><div class="t m0 xa hc y116 ff4 fs3 fc0 sc0 ls0 ws8"><span class="fc3">if</span>(right&lt;len&amp;&amp;arr[right]&gt;arr[largest]){</div><div class="t m0 xa hc y117 ff4 fs3 fc0 sc0 ls0 ws8">largest=right;</div></div><div class="c x0 y1f w2 h6"><div class="t m0 x7 h5 y20 ff2 fs0 fc2 sc0 ls0 ws2">堆排序</div></div><div class="c x0 ye w2 h6"><div class="t m0 xb h3 yf ff1 fs0 fc2 sc0 ls0 ws0">29</div></div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
