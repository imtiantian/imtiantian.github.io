<div id="pf64" class="pf w0 h0" data-page-no="64"><div class="pc pc64 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg64.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 h10 yb1e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc ws16a">numpy </span><span class="ws160">as <span class="fcc">np</span></span></span></div><div class="t m0 x5 hf yb1f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=</span><span class="ls0 ws13a">np<span class="fc6 ls34">.</span>array([<span class="fc7 ls34">2<span class="fc6">+</span><span class="ls0">3j</span></span></span>,<span class="fc7 ls34">4<span class="fc6">+</span><span class="ls0 ws13a">5j</span></span><span class="ls33">,<span class="fc7 ls34">6<span class="fc6 ls0 ws13a">-<span class="fc7">7j</span></span></span></span>,<span class="fc7 ls34">8<span class="fc6">+</span><span class="ls0 ws13a">9j<span class="fc0">])</span></span></span></span></div><div class="t m0 x5 hf yb20 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">a</span></div><div class="t m0 x5 hf yb21 ff8 fs5 fc8 sc0 ls0 ws4">array([ 2.+3.j, 4.+5.j, 6.-7.j, 8.+9.j])</div><div class="t m0 x5 hf yb22 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">+<span class="fc7 ls0">2</span></span></span></div><div class="t m0 x5 hf yb23 ff8 fs5 fc8 sc0 ls0 ws4">array([ 4.+3.j, 6.+5.j, 8.-7.j, 10.+9.j])</div><div class="t m0 x5 hf yb24 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">np<span class="fc6 ls34">.</span>sin(a)</span></div><div class="t m0 x5 hf yb25 ff8 fs5 fc8 sc0 ls0 ws4">array([ 9.15449915 -4.16890696j, -56.16227422 -48.50245524j,</div><div class="t m0 x16 hf yb26 ff8 fs5 fc8 sc0 ls0 ws13b">-153.20827755-526.47684926j, 4008.42651446-589.49948373j])</div><div class="t m0 x5 hf yb27 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 yb28 ff4 fs3 fc0 sc0 ls0 ws3cb">Python <span class="ff1 ls30 ws138">的标准数学函数确实情况下并不能产生复数值，因此你的代码中不可能会<span class="_ _1"></span></span></div><div class="t m0 x5 h9 yb29 ff1 fs3 fc0 sc0 ls0">出现复数返回值。比如：</div><div class="t m0 x5 h10 yb2a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">math</span></span></div><div class="t m0 x5 hf yb2b ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">math<span class="fc6 ls34">.</span>sqrt(<span class="fc6 ls34">-<span class="fc7">1</span></span>)</span></div><div class="t m0 x5 hf yb2c ff8 fs5 fce sc0 ls0 ws4">Traceback (most recent call last):</div><div class="t m0 x15 hf yb2d ff8 fs5 fc0 sc0 ls0 ws13c">File <span class="fc9 ws13a">&quot;&lt;stdin&gt;&quot;</span><span class="ws145">, line <span class="fc7 ls34">1</span><span class="ls32">,</span><span class="ff7 fca ws160">in </span><span class="fc6 ws13a">&lt;<span class="fc0">module</span>&gt;</span></span></div><div class="t m0 x5 hf yb2e ff8 fs5 fc2 sc0 ls0 ws13a">ValueError<span class="fc0 ws4">: math domain error</span></div><div class="t m0 x5 hf yb2f ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 yb30 ff1 fs3 fc0 sc0 ls49 ws4bb">如果你想生成一个复数返回结果<span class="_ _1"></span>，你必须显示的使用 <span class="ff6 ls0 ws1a5">cmath <span class="ff1 wsa0">模<span class="_ _6"></span>块，<span class="_ _6"></span>或<span class="_ _6"></span>者<span class="_ _6"></span>在<span class="_ _6"></span>某<span class="_ _6"></span>个<span class="_ _6"></span>支</span></span></div><div class="t m0 x5 h9 yb31 ff1 fs3 fc0 sc0 ls0">持复数的库中声明复数类型的使用。比如：</div><div class="t m0 x5 h10 yb32 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">cmath</span></span></div><div class="t m0 x5 hf yb33 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cmath<span class="fc6">.</span>sqrt(<span class="fc6 ls34">-</span><span class="fc7">1</span>)</span></div><div class="t m0 x5 hf yb34 ff8 fs5 fc8 sc0 ls0">1j</div><div class="t m0 x5 hf yb35 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 hd yb36 ff2 fs4 fc4 sc0 ls0 ws134">5.7<span class="_ _e"> </span>3.7 <span class="ff1 ws165">无穷大与 </span>NaN</div><div class="t m0 x5 he y7de ff2 fs2 fc4 sc0 ls0 ws135">5.7.1 <span class="ff1">问题</span></div><div class="t m0 x0 h7 yb37 ff1 fs3 fc0 sc0 ls0 ws38">你想创建或测试正无穷、负无穷或 <span class="ff4 wsa5">NaN(</span><span class="wsa0">非数字<span class="ff4 ls6a">)</span>的浮点数。</span></div><div class="t m0 x5 he yb38 ff2 fs2 fc4 sc0 ls0 ws135">5.7.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h7 yb39 ff4 fs3 fc0 sc0 ls0 wsd7">Python <span class="ff1 ls19 ws4bc">并没有特殊的语法来表示这些特殊的浮点值，但是可以使用 </span><span class="ff6 ws4bd">float() <span class="ff1 wsa0">来创</span></span></div><div class="t m0 x5 h9 yb3a ff1 fs3 fc0 sc0 ls0">建它们。比如：</div><div class="t m0 x5 hf yb3b ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=<span class="fca ls0 ws13a">float</span></span><span class="ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">inf</span>&apos;</span><span class="ls0">)</span></span></span></div><div class="t m0 x5 hf yb3c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">b<span class="fc6 ls33">=<span class="fca ls0 ws13a">float</span></span><span class="ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">-inf</span>&apos;</span><span class="ls0">)</span></span></span></div><div class="t m0 x5 hf yb3d ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">c<span class="fc6 ls33">=<span class="fca ls0 ws13a">float</span></span><span class="ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">nan</span>&apos;</span><span class="ls0">)</span></span></span></div><div class="t m0 x5 hf yb3e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">a</span></div><div class="t m0 x5 hf yb3f ff8 fs5 fc8 sc0 ls0">inf</div><div class="t m0 x5 hf yb40 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">b</span></div><div class="t m0 x5 hf yb41 ff8 fs5 fc8 sc0 ls0">-inf</div><div class="t m0 x5 hf yb42 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">c</span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">5.7.<span class="_ _5"> </span>3.7 <span class="ff1 ws16b">无穷大与 </span><span class="ws4be">NaN 91</span></div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
