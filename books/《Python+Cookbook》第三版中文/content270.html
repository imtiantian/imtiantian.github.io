<div id="pf10e" class="pf w0 h0" data-page-no="10e"><div class="pc pc10e w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg10e.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x15 h10 y1e8 ff7 fs5 fc12 sc0 ls0">@name.setter</div><div class="t m0 x15 h10 y1e9 ff7 fs5 fc12 sc0 ls0">@abstractmethod</div><div class="t m0 x15 hf y1ea ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">name<span class="fc0">(<span class="fca">self</span><span class="ws4">, value):</span></span></span></div><div class="t m0 x16 h10 y903 ff7 fs5 fca sc0 ls0">pass</div><div class="t m0 x15 h10 y1ec ff7 fs5 fc12 sc0 ls0">@classmethod</div><div class="t m0 x15 h10 y904 ff7 fs5 fc12 sc0 ls0">@abstractmethod</div><div class="t m0 x15 hf y905 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">method1<span class="fc0">(cls):</span></span></div><div class="t m0 x16 h10 y906 ff7 fs5 fca sc0 ls0">pass</div><div class="t m0 x15 h10 y908 ff7 fs5 fc12 sc0 ls0">@staticmethod</div><div class="t m0 x15 h10 y909 ff7 fs5 fc12 sc0 ls0">@abstractmethod</div><div class="t m0 x15 hf ybd8 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">method2<span class="fc0">():</span></span></div><div class="t m0 x16 h10 ybd9 ff7 fs5 fca sc0 ls0">pass</div><div class="t m0 x5 he y1d27 ff2 fs2 fc4 sc0 ls0 wsadf">10.12.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y1d28 ff1 fs3 fc0 sc0 ls35 ws144">标准库中有很多用到抽象基类的地方。<span class="ff6 ls0 wsafe">collections </span>模块定义了很多跟容器和迭代</div><div class="t m0 x5 h7 y1d29 ff1 fs3 fc0 sc0 lsee">器<span class="ff4 ls0 wsa5">(</span><span class="ls0 wsa0">序列、<span class="_ _6"></span>映射、集<span class="_ _6"></span>合等<span class="ff4 ls17f">)</span><span class="wsaff">有<span class="_ _6"></span>关的<span class="_ _6"></span>抽象<span class="_ _6"></span>基类。 <span class="ff6 ws4bd">numbers </span></span></span><span class="ls19 wsb00">库定义了跟数字对象 </span><span class="ff4 ls0 wsa5">(</span><span class="ls0 wsa0">整数、<span class="_ _6"></span>浮</span></div><div class="t m0 x5 h7 y1d2a ff1 fs3 fc0 sc0 ls0 wsa0">点数、有理数等<span class="ff4 ls6a">)</span>有关的基类。<span class="ff6 ws308">io </span><span class="ws38">库定义了很多跟 <span class="ff4 ws59">I/O </span>操作相关的基类。</span></div><div class="t m0 x0 h9 y1d2b ff1 fs3 fc0 sc0 ls0">你可以使用预定义的抽象类来执行更通用的类型检查，例如：</div><div class="t m0 x5 h10 y1d2c ff7 fs5 fca sc0 ls0 ws146">import <span class="fcc">collections</span></div><div class="t m0 x5 h11 y1d2d ffa fs5 fcd sc0 ls0 ws4"># Check if x is a sequence</div><div class="t m0 x5 hf y1d2e ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 ws13a">isinstance<span class="fc0 ws4">(x, collections<span class="fc6 ls34">.</span>Sequence):</span></span></div><div class="t m0 x5 hf y1d2f ff8 fs5 fc6 sc0 ls0 ws13a">...</div><div class="t m0 x5 h11 y1d30 ffa fs5 fcd sc0 ls0 ws4"># Check if x is iterable</div><div class="t m0 x5 hf y1d31 ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 ws13a">isinstance<span class="fc0 ws4">(x, collections<span class="fc6 ls34">.</span>Iterable):</span></span></div><div class="t m0 x5 hf y1d32 ff8 fs5 fc6 sc0 ls0 ws13a">...</div><div class="t m0 x5 h11 y110b ffa fs5 fcd sc0 ls0 ws4"># Check if x has a size</div><div class="t m0 x5 hf y1d33 ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 ws13a">isinstance<span class="fc0 ws4">(x, collections<span class="fc6 ls34">.</span>Sized):</span></span></div><div class="t m0 x5 hf y1d34 ff8 fs5 fc6 sc0 ls0 ws13a">...</div><div class="t m0 x5 h11 y1d35 ffa fs5 fcd sc0 ls0 ws4"># Check if x is a mapping</div><div class="t m0 x5 hf y1d36 ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 ws13a">isinstance<span class="fc0 ws4">(x, collections<span class="fc6 ls34">.</span>Mapping):</span></span></div><div class="t m0 x0 h7 y1d37 ff1 fs3 fc0 sc0 ls0 ws48c">尽管 <span class="ff4 wsb01">ABCs </span><span class="wsa0">可以让我们很方便的做类型检查，<span class="_ _1"></span>但是我们在代码中最好不要过多的使</span></div><div class="t m0 x5 h7 y1d38 ff1 fs3 fc0 sc0 ls0 wsb02">用它。因为 <span class="ff4 ws108">Python </span><span class="wsa0">的本质是一门动态编程语言，其目的就是给你更多灵活性，<span class="_ _1"></span>强制类</span></div><div class="t m0 x5 h9 y1d39 ff1 fs3 fc0 sc0 ls0">型检查或让你代码变得更复杂，这样做无异于舍本求末。</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 wsae0">10.12.<span class="_ _5"> </span>8.12 <span class="ff1 wsaf4">定义接口或者抽象基类 </span>261</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
