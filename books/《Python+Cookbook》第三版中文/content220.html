<div id="pfdc" class="pf w0 h0" data-page-no="dc"><div class="pc pcdc w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bgdc.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 he y137 ff2 fs2 fc4 sc0 ls0 ws135">9.3.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y236 ff1 fs3 fc0 sc0 ls63 ws21f">使用函数参数注解是一个很好的办法<span class="_ _c"></span>，它能提示程序员应该怎样正确使用这个函<span class="_ _1"></span></div><div class="t m0 x5 h9 y237 ff1 fs3 fc0 sc0 ls0">数。例如，下面有一个被注解了的函数：</div><div class="t m0 x5 hf y374 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">add<span class="fc0">(x:<span class="fca">int</span><span class="ws4">, y:</span><span class="fca">int</span><span class="ls32">)</span><span class="fc6 ws23d">-&gt; </span><span class="fca">int</span>:</span></span></div><div class="t m0 x15 hf y375 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 fc0 ls32">x<span class="fc6 ls33">+</span><span class="ls0">y</span></span></div><div class="t m0 x0 h7 y1611 ff4 fs3 fc0 sc0 ls0 ws90f">p<span class="_ _1"></span>ython <span class="ff1 ls48 ws242">解释器不会对这些注解添加任何的语义<span class="_ _1"></span>。它们不会被类型检查<span class="_ _1"></span>，运行时跟</span></div><div class="t m0 x5 h9 y1612 ff1 fs3 fc0 sc0 ls13 wse5">没有加注解之前的效果也没有任何差距<span class="_ _1"></span>。然而，对于那些阅读源码的人来讲就很有帮<span class="_ _c"></span></div><div class="t m0 x5 h9 y3b7 ff1 fs3 fc0 sc0 ls0">助啦。第三方工具和框架可能会对这些注解添加语义。同时它们也会出现在文档中。</div><div class="t m0 x5 hf y1803 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">help(add)</span></div><div class="t m0 x5 hf y1804 ff8 fs5 fc8 sc0 ls0 ws4">Help on function add in module __main__:</div><div class="t m0 x5 hf y1805 ff8 fs5 fc8 sc0 ls0 ws4">add(x: int, y: int) -&gt; int</div><div class="t m0 x5 hf y10ec ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 y1806 ff1 fs3 fc0 sc0 lse ws910">尽管你可以使用任意类型的对象给函数添加注解 <span class="ff4 ls0 wsa5">(<span class="ff1 wsa0">例如<span class="_ _6"></span>数字，<span class="_ _6"></span>字符<span class="_ _6"></span>串，对象<span class="_ _6"></span>实例<span class="_ _6"></span>等</span></span></div><div class="t m0 x5 h7 y1807 ff1 fs3 fc0 sc0 lsb">等<span class="ff4 ls0 wsa5">)<span class="ff1">，不过通常来讲使用类或着字符串会比较好点。</span></span></div><div class="t m0 x5 he y1808 ff2 fs2 fc4 sc0 ls0 ws135">9.3.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y1809 ff1 fs3 fc0 sc0 ls0 ws911">函数注解只存储在函数的 <span class="ff6 ws912">annotations </span>属性中。例如：</div><div class="t m0 x5 hf y180a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">add<span class="fc6 ls34">.</span>__annotations__</span></div><div class="t m0 x5 hf y180b ff8 fs5 fc8 sc0 ls34">{<span class="ff9 ls0 ws13b">&apos;</span>y<span class="ff9">&apos;</span><span class="ls0 ws13b">: &lt;class </span><span class="ff9">&apos;</span><span class="ls0 ws13a">int</span><span class="ff9">&apos;</span><span class="ls0 ws159">&gt;, </span><span class="ff9">&apos;</span><span class="ls0 ws13a">return</span><span class="ff9">&apos;</span><span class="ls0 ws4">: &lt;class <span class="ff9 ws13b">&apos;</span><span class="ws13a">int<span class="ff9 ws13b">&apos;</span><span class="ws159">&gt;, </span></span></span><span class="ff9">&apos;</span>x<span class="ff9">&apos;</span><span class="ls0 ws13b">: &lt;class </span><span class="ff9">&apos;</span><span class="ls0 ws13a">int</span><span class="ff9">&apos;</span><span class="ls0">&gt;}</span></div><div class="t m0 x0 h7 y180c ff1 fs3 fc0 sc0 ls48 ws913">尽管注解的使用方法可能有很多种<span class="_ _1"></span>，但是它们的主要用途还是文档<span class="_ _1"></span>。因为 <span class="ff4 ls0 wsa5">p<span class="_ _1"></span>ython</span></div><div class="t m0 x5 h9 y180d ff1 fs3 fc0 sc0 ls2d ws132">并没有类型声明，通常来讲仅仅通过阅读源码很难知道应该传递什么样的参数给这个<span class="_ _1"></span></div><div class="t m0 x5 h9 y180e ff1 fs3 fc0 sc0 ls0">函数。这时候使用注解就能给程序员更多的提示，让他们可以争取的使用函数。</div><div class="t m0 x0 h7 y180f ff1 fs3 fc0 sc0 ls0 ws8ad">参考 <span class="ff4 ws914">9.20 </span><span class="ws915">小节的一个更加高级的例子，演示了如何利用注解来实现多分派 <span class="ff4 wsa5">(</span>比如重</span></div><div class="t m0 x5 h7 y1810 ff1 fs3 fc0 sc0 ls0 wsa0">载函数<span class="ff4 wsa5">)</span>。</div><div class="t m0 x5 hd y1811 ff2 fs4 fc4 sc0 ls0 ws134">9.4<span class="_ _e"> </span>7.4 <span class="ff1">返回多个值的函数</span></div><div class="t m0 x5 he y1812 ff2 fs2 fc4 sc0 ls0 ws135">9.4.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y1247 ff1 fs3 fc0 sc0 ls0">你希望构造一个可以返回多个值的函数</div><div class="t m0 x5 he y1813 ff2 fs2 fc4 sc0 ls0 ws135">9.4.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h7 y1814 ff1 fs3 fc0 sc0 ls0 ws38">为了能返回多个值，函数直接 <span class="ff4 ws916">return </span>一个元组就行了。例如：</div><div class="t m0 x5 hf y1815 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca">def <span class="ff8 fcb ws13a">myfun<span class="fc0">():</span></span></span></div><div class="t m0 x5 hf y1816 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws146">return <span class="ff8 fc7 ls34">1<span class="fc0 ls32">,</span>2<span class="fc0 ls32">,</span><span class="ls0">3</span></span></span></div><div class="t m0 x5 h10 y1817 ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">9.4.<span class="_ _5"> </span>7.4 <span class="ff1 ws654">返回多个值的函数 </span>211</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
