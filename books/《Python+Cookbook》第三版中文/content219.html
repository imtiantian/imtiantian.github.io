<div id="pfdb" class="pf w0 h0" data-page-no="db"><div class="pc pcdb w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bgdb.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">recv<span class="fc0 ws16e">(maxsize, <span class="fc6 ls34">*</span><span class="ws13b">, block):</span></span></span></div><div class="t m0 x15 hf y1ac ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws13b">Receives a message<span class="ff9">&apos;</span></span></div><div class="t m0 x15 h10 y1ad ff7 fs5 fca sc0 ls0">pass</div><div class="t m0 x5 hf y1af ff8 fs5 fc0 sc0 ls0 ws13a">recv(<span class="fc7">1024</span><span class="ls32">,</span><span class="fca">True</span><span class="ls32">)</span><span class="ffa fcd ws4"># TypeError</span></div><div class="t m0 x5 hf y1b0 ff8 fs5 fc0 sc0 ls0 ws13a">recv(<span class="fc7">1024</span><span class="ws13b">, block</span><span class="fc6">=<span class="fca">True</span></span><span class="ls33">)</span><span class="ffa fcd ws13b"># Ok</span></div><div class="t m0 x0 h9 y17ee ff1 fs3 fc0 sc0 ls56 ws1fa">利用这种技术<span class="_ _c"></span>，我们还能在接受任意多个位置参数的函数中指定关键字参数<span class="_ _1"></span>。比<span class="_ _1"></span></div><div class="t m0 x5 h9 y17ef ff1 fs3 fc0 sc0 ls0">如：</div><div class="t m0 x5 hf y1230 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">mininum<span class="fc0 ls34">(</span><span class="fc6">*<span class="fc0 ws4">values, clip</span><span class="ls34">=</span><span class="fca">None<span class="fc0">):</span></span></span></span></div><div class="t m0 x15 hf y1231 ff8 fs5 fc0 sc0 ls32">m<span class="fc6 ls33">=<span class="fca ls0 ws13a">min<span class="fc0">(values)</span></span></span></div><div class="t m0 x15 hf y1232 ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 fc0 ws13c">clip </span>is not <span class="ff8 ws13a">None<span class="fc0">:</span></span></div><div class="t m0 x16 hf y1233 ff8 fs5 fc0 sc0 ls32">m<span class="fc6 ls33">=</span><span class="ls0 ws161">clip <span class="ff7 fca ws160">if </span>clip <span class="fc6 ls33">&gt;</span></span>m<span class="ff7 fca ls0 ws15a">else </span><span class="ls0">m</span></div><div class="t m0 x15 hf y17f0 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 fc0">m</span></div><div class="t m0 x5 hf y17f1 ff8 fs5 fc0 sc0 ls0 ws13a">minimum(<span class="fc7 ls34">1</span><span class="ls32">,<span class="fc7 ls34">5</span>,<span class="fc7 ls34">2</span>,<span class="fc6 ls34">-<span class="fc7">5</span></span>,</span><span class="fc7">10</span><span class="ls32">)</span><span class="ffa fcd ws4"># Returns -5</span></div><div class="t m0 x5 hf y17f2 ff8 fs5 fc0 sc0 ls0 ws13a">minimum(<span class="fc7 ls34">1</span><span class="ls32">,<span class="fc7 ls34">5</span>,<span class="fc7 ls34">2</span>,<span class="fc6 ls34">-<span class="fc7">5</span></span>,</span><span class="fc7">10</span><span class="ws13b">, clip<span class="fc6 ls34">=<span class="fc7">0</span></span><span class="ls32">)</span><span class="ffa fcd"># Returns 0</span></span></div><div class="t m0 x5 he y17f3 ff2 fs2 fc4 sc0 ls0 ws135">9.2.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y17f4 ff1 fs3 fc0 sc0 ls3a ws153">很多情况下，使用强制关键字参数会比使用位置参数表意更加清晰，程序也更加具</div><div class="t m0 x5 h9 y3c2 ff1 fs3 fc0 sc0 ls0">有可读性。例如，考虑下如下一个函数调用：</div><div class="t m0 x5 hf y17f5 ff8 fs5 fc0 sc0 ls0 ws158">msg <span class="fc6 ls32">=</span><span class="ws13a">recv(<span class="fc7">1024</span><span class="ls32">,</span><span class="fca">False</span>)</span></div><div class="t m0 x0 h7 y17f6 ff1 fs3 fc0 sc0 ls0 ws906">如果调用者对 <span class="ff4 ws907">recv </span><span class="ws908">函数并不是很熟悉，<span class="_ _1"></span>那他肯定不明白那个 <span class="ff4 ws909">F<span class="_ _8"></span>alse <span class="ff1">参数到底来干嘛</span></span></span></div><div class="t m0 x5 h9 y17f7 ff1 fs3 fc0 sc0 ls0">用的。但是，如果代码变成下面这样子的话就清楚多了：</div><div class="t m0 x5 hf y17f8 ff8 fs5 fc0 sc0 ls0 ws158">msg <span class="fc6 ls32">=</span><span class="ws13a">recv(<span class="fc7">1024</span><span class="ws13b">, block<span class="fc6 ls34">=</span></span><span class="fca">False</span>)</span></div><div class="t m0 x0 h7 y17f9 ff1 fs3 fc0 sc0 ls42 ws90a">另外，使用强制关键字参数也会比使用 <span class="ff4 ls0 ws90b">**kw<span class="_ _c"></span>args <span class="ff1 ls42 ws90c">参数更好，因为在使用函数 </span>help</span></div><div class="t m0 x5 h9 y17fa ff1 fs3 fc0 sc0 ls0">的时候输出也会更容易理解：</div><div class="t m0 x5 hf y17fb ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">help(recv)</span></div><div class="t m0 x5 hf y17fc ff8 fs5 fc8 sc0 ls0 ws4">Help on function recv in module __main__:</div><div class="t m0 x5 hf y17fd ff8 fs5 fc8 sc0 ls0 ws4">recv(maxsize, *, block)</div><div class="t m0 x15 hf y17fe ff8 fs5 fc8 sc0 ls0 ws13b">Receives a message</div><div class="t m0 x0 h9 y17ff ff1 fs3 fc0 sc0 ls56 ws1fa">强制关键字参数在一些更高级场合同样也很有用<span class="_ _c"></span>。例如<span class="_ _1"></span>，它们可以被用来在使用<span class="_ _1"></span></div><div class="t m0 x5 h7 y1800 ff4 fs3 fc0 sc0 ls0 ws90d">*args <span class="ff1 ls4">和</span><span class="ws90e">**kw<span class="_ _1"></span>args <span class="ff1 wsa0">参数作为输入的函数中插入参数，</span><span class="ws1d0">9.11 <span class="ff1">小节有一个这样的例子。</span></span></span></div><div class="t m0 x5 hd y1801 ff2 fs4 fc4 sc0 ls0 ws134">9.3<span class="_ _e"> </span>7.3 <span class="ff1">给函数参数增加元信息</span></div><div class="t m0 x5 he y1802 ff2 fs2 fc4 sc0 ls0 ws135">9.3.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y6e ff1 fs3 fc0 sc0 ls3a ws153">你写好了一个函数，然后想为这个函数的参数增加一些额外的信息，这样的话其他</div><div class="t m0 x5 h9 y674 ff1 fs3 fc0 sc0 ls0">使用者就能清楚的知道这个函数应该怎么使用。</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">9.3.<span class="_ _5"> </span>7.3 <span class="ff1 ws855">给函数参数增加元信息 </span>210</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
