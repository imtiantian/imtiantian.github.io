<div id="pfd9" class="pf w0 h0" data-page-no="d9"><div class="pc pcd9 w0 h0"><img class="bi x13 y5 w2 hb" alt="" src="bgd9.png"/><div class="t m0 xe h8 y76 ff2 fs3 fc0 sc0 ls0">CHAPTER</div><div class="t m0 x11 hc y77 ff2 fs4 fc0 sc0 ls0">NINE</div><div class="t m0 x2e hd y78 ff1 fs4 fc0 sc0 ls0">第七章：函数</div><div class="t m0 x0 h9 y79 ff1 fs3 fc0 sc0 ls0 ws8ff">使<span class="_ _6"></span>用 <span class="ff6 ws900">def </span><span class="wsa0">语<span class="_ _6"></span>句<span class="_ _6"></span>定<span class="_ _6"></span>义<span class="_ _6"></span>函<span class="_ _6"></span>数<span class="_ _6"></span>是<span class="_ _6"></span>所<span class="_ _6"></span>有<span class="_ _6"></span>程序<span class="_ _6"></span>的<span class="_ _6"></span>基<span class="_ _6"></span>础。<span class="_ _6"></span>本<span class="_ _6"></span>章<span class="_ _6"></span>的<span class="_ _6"></span>目<span class="_ _6"></span>标<span class="_ _6"></span>是<span class="_ _6"></span>讲<span class="_ _6"></span>解<span class="_ _6"></span>一<span class="_ _6"></span>些<span class="_ _6"></span>更<span class="_ _6"></span>加<span class="_ _6"></span>高<span class="_ _6"></span>级<span class="_ _6"></span>和<span class="_ _6"></span>不</span></div><div class="t m0 x5 h9 ycf ff1 fs3 fc0 sc0 ls1e ws111">常见的函数定义与使用模式<span class="_ _1"></span>。涉及到的内容包括默认参数<span class="_ _1"></span>、任意数量参数、强制<span class="_ _1"></span>关键</div><div class="t m0 x5 h9 yd0 ff1 fs3 fc0 sc0 ls0 wsa0">字<span class="_ _6"></span>参数、<span class="_ _6"></span>注<span class="_ _6"></span>解<span class="_ _6"></span>和<span class="_ _6"></span>闭<span class="_ _6"></span>包。另<span class="_ _6"></span>外，<span class="_ _6"></span>一<span class="_ _6"></span>些<span class="_ _6"></span>高<span class="_ _6"></span>级<span class="_ _6"></span>的控<span class="_ _6"></span>制<span class="_ _6"></span>流<span class="_ _6"></span>和<span class="_ _6"></span>利<span class="_ _6"></span>用回<span class="_ _6"></span>调<span class="_ _6"></span>函<span class="_ _6"></span>数<span class="_ _6"></span>传<span class="_ _6"></span>递数<span class="_ _6"></span>据<span class="_ _6"></span>的<span class="_ _6"></span>技<span class="_ _6"></span>术<span class="_ _6"></span>在这</div><div class="t m0 x5 h9 yd1 ff1 fs3 fc0 sc0 ls0">里也会讲解到。</div><div class="t m0 x0 h7 yd2 ff4 fs3 fc0 sc0 ls0 wsa5">Con<span class="_ _1"></span>ten<span class="_ _1"></span>ts:</div><div class="t m0 x5 hd yd3 ff2 fs4 fc4 sc0 ls0 ws134">9.1<span class="_ _e"> </span>7.1 <span class="ff1">可接受任意数量参数的函数</span></div><div class="t m0 x5 he yd4 ff2 fs2 fc4 sc0 ls0 ws135">9.1.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 yd5 ff1 fs3 fc0 sc0 ls0">你想构造一个可接受任意数量参数的函数。</div><div class="t m0 x5 he y17c6 ff2 fs2 fc4 sc0 ls0 ws135">9.1.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h7 y17c7 ff1 fs3 fc0 sc0 ls0 ws14">为了能让一个函数接受任意数量的位置参数，可以使用一个 <span class="ff4 lsc">*</span>参数。例如：</div><div class="t m0 x5 hf y17c8 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">avg<span class="fc0 ws155">(first, <span class="fc6 ls34">*</span>rest):</span></span></div><div class="t m0 x15 hf y17c9 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 fc0 ws145">(first <span class="fc6 ls33">+</span><span class="fca ws13a">sum</span><span class="ws155">(rest)) <span class="fc6 ls32">/</span><span class="ls34">(<span class="fc7 ls32">1<span class="fc6 ls33">+</span></span></span><span class="fca ws13a">len</span>(rest))</span></span></div><div class="t m0 x5 h11 y17ca ffa fs5 fcd sc0 ls0 ws4"># Sample use</div><div class="t m0 x5 hf y17cb ff8 fs5 fc0 sc0 ls0 ws13a">avg(<span class="fc7 ls34">1</span><span class="ls32">,<span class="fc7 ls34">2</span>)</span><span class="ffa fcd ws4"># 1.5</span></div><div class="t m0 x5 hf y17cc ff8 fs5 fc0 sc0 ls0 ws13a">avg(<span class="fc7 ls34">1</span><span class="ls32">,<span class="fc7 ls34">2</span>,<span class="fc7 ls34">3</span>,<span class="fc7 ls34">4</span><span class="ls33">)</span></span><span class="ffa fcd ws13b"># 2.5</span></div><div class="t m0 x0 h7 y17cd ff1 fs3 fc0 sc0 ls0 wsa0">在这个例子<span class="_ _6"></span>中，<span class="ff4 ws901">rest </span><span class="ls68 ws23f">是由所有其他位置参数组成的元组。然后我们在代码中把它当</span></div><div class="t m0 x5 h9 ya4f ff1 fs3 fc0 sc0 ls0">成了一个序列来进行后续的计算。</div><div class="t m0 x0 h7 y17ce ff1 fs3 fc0 sc0 ls0 ws14">为了接受任意数量的关键字参数，使用一个以 <span class="ff4 wsd2">** </span>开头的参数。比如：</div><div class="t m0 x5 h10 y17cf ff7 fs5 fca sc0 ls0 ws146">import <span class="fcc">html</span></div><div class="t m0 x5 hf y17d0 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">make_element<span class="fc0 ws13b">(name, value, </span><span class="fc6">**<span class="fc0">attrs):</span></span></span></div><div class="t m0 x15 hf y17d1 ff8 fs5 fc0 sc0 ls0 ws155">keyvals <span class="fc6 ls32">=</span><span class="ls34">[<span class="ff9 fc9 ls32">&apos;</span></span><span class="ffa fcf ws13a">%s<span class="ff8 fc9">=&quot;</span>%s<span class="ff8 fc9">&quot;<span class="ff9 ls33">&apos;</span><span class="fc6 ls32">%</span></span></span><span class="ws13c">item <span class="ff7 fca ws139">for </span>item <span class="ff7 fca ws157">in </span><span class="ws13a">attrs<span class="fc6 ls34">.</span>items()]</span></span></div><div class="t m0 x15 hf y17d2 ff8 fs5 fc0 sc0 ls0 ws1f5">attr_str <span class="fc6 ls33">=</span><span class="ff9 fc9 ws13b">&apos;&apos;</span><span class="fc6 ls34">.</span>join(keyvals)</div><div class="t m0 x15 hf y17d3 ff8 fs5 fc0 sc0 ls0 ws155">element <span class="fc6 ls32">=<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws13a">&lt;{name}{attrs}&gt;{value}&lt;/{name}&gt;<span class="ff9 ls34">&apos;<span class="ff8 fc6">.</span></span></span>format(</div><div class="t m0 x26 h8 y29 ff2 fs3 fc0 sc0 ls0">208</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
