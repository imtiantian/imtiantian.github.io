<div id="pf202" class="pf w0 h0" data-page-no="202"><div class="pc pc202 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg202.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y15f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws15a">from <span class="fcc ws96c">configparser </span><span class="ws146">import <span class="ff8 fc0">ConfigParser</span></span></span></div><div class="t m0 x5 hf y160 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws158">cfg <span class="fc6 ls32">=</span>ConfigParser()</span></div><div class="t m0 x5 hf y956 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>read(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">config.ini<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y957 ff8 fs5 fc8 sc0 ls34">[<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">config.ini<span class="ff9 ws13b">&apos;</span>]</span></div><div class="t m0 x5 hf y958 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>sections()</span></div><div class="t m0 x5 hf y959 ff8 fs5 fc8 sc0 ls34">[<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">installation</span><span class="ff9">&apos;</span><span class="ls32">,</span><span class="ff9">&apos;</span><span class="ls0 ws13a">debug<span class="ff9 ws13b">&apos;</span><span class="ls33">,</span></span><span class="ff9">&apos;</span><span class="ls0 ws13a">server</span><span class="ff9">&apos;</span><span class="ls0">]</span></div><div class="t m0 x5 hf y95a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>get(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">installation<span class="ff9 ls34">&apos;</span></span><span class="ls34">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">library<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y95b ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/usr/local/lib<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y95c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>getboolean(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">debug<span class="ff9 ls34">&apos;</span></span><span class="ls34">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">log_errors<span class="ff9 ws13b">&apos;</span></span>)</span></div><div class="t m0 x5 hf y9f4 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y95d ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>getint(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">server<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">port<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y95e ff8 fs5 fc8 sc0 ls0">8080</div><div class="t m0 x5 hf ybb7 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>getint(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">server<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">nworkers<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf ybb8 ff8 fs5 fc8 sc0 ls0">32</div><div class="t m0 x5 hf ybb9 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(cfg<span class="fc6 ls34">.</span>get(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">server<span class="ff9 ls34">&apos;</span></span><span class="ls34">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">signature<span class="ff9 ls34">&apos;</span></span>))</span></span></div><div class="t m0 x5 hf ybbb ff8 fs5 fc8 sc0 ls0">\=================================</div><div class="t m0 x5 hf ybbc ff8 fs5 fc8 sc0 ls0 ws4">Brought to you by the Python Cookbook</div><div class="t m0 x5 hf ybbd ff8 fs5 fc8 sc0 ls0">\=================================</div><div class="t m0 x5 hf ybbe ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y324b ff1 fs3 fc0 sc0 ls0 ws14">如果有需要，你还能修改配置并使用 <span class="ff6 ws1e2">cfg.write() </span>方法将其写回到文件中。例如：</div><div class="t m0 x5 hf y324c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>set(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">server<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">port<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">9000<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y324d ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>set(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">debug<span class="ff9 ls34">&apos;</span></span><span class="ls34">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">log_errors<span class="ff9 ws13b">&apos;</span></span><span class="ls34">,<span class="ff9 fc9">&apos;</span></span><span class="fc9">False<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 h10 y324e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">sys</span></span></div><div class="t m0 x5 hf y324f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">cfg<span class="fc6 ls34">.</span>write(sys<span class="fc6 ls34">.</span>stdout)</span></div><div class="t m0 x5 hf y1f1f ff8 fs5 fc0 sc0 ls0">[installation]</div><div class="t m0 x5 hf y3250 ff8 fs5 fc0 sc0 ls0 ws4">library = %(prefix)s/lib</div><div class="t m0 x5 hf y3251 ff8 fs5 fc0 sc0 ls0 ws4">include = %(prefix)s/include</div><div class="t m0 x5 hf y3252 ff8 fs5 fc0 sc0 ls0 ws4">bin = %(prefix)s/bin</div><div class="t m0 x5 hf y3253 ff8 fs5 fc0 sc0 ls0 ws4">prefix = /usr/local</div><div class="t m0 x5 hf y3254 ff8 fs5 fc0 sc0 ls0">[debug]</div><div class="t m0 x5 hf y3255 ff8 fs5 fc0 sc0 ls0 ws4">log_errors = False</div><div class="t m0 x5 hf y3256 ff8 fs5 fc0 sc0 ls0 ws4">show_warnings = False</div><div class="t m0 x5 hf y3257 ff8 fs5 fc0 sc0 ls0">[server]</div><div class="t m0 x5 hf y3258 ff8 fs5 fc0 sc0 ls0 ws4">port = 9000</div><div class="t m0 x5 hf y3259 ff8 fs5 fc0 sc0 ls0 ws4">nworkers = 32</div><div class="t m0 x5 hf y325a ff8 fs5 fc0 sc0 ls0 ws4">pid-file = /tmp/spam.pid</div><div class="t m0 x5 hf y325b ff8 fs5 fc0 sc0 ls0 ws4">root = /www/root</div><div class="t m0 x5 hf y325c ff8 fs5 fc0 sc0 ls0 ws4">signature =</div><div class="t m0 x48 hf y325d ff8 fs5 fc0 sc0 ls0">=================================</div><div class="t m0 x48 hf y325e ff8 fs5 fc0 sc0 ls0 ws4">Brought to you by the Python Cookbook</div><div class="t m0 x48 hf y325f ff8 fs5 fc0 sc0 ls0">=================================</div><div class="t m0 x5 hf y3260 ff8 fs5 fc0 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 wsd97">15.10.<span class="_ _36"> </span>13.10 <span class="ff1 wse4d">读取配置文件 </span>505</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
