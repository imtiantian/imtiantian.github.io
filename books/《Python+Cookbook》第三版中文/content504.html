<div id="pf1f8" class="pf w0 h0" data-page-no="1f8"><div class="pc pc1f8 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg1f8.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws4">python3 search<span class="fc6 ls34">.</span><span class="ws159">py <span class="fc6 ls34">-</span>h</span></span></div><div class="t m0 x5 hf y1ac ff8 fs5 fc0 sc0 ls0 ws4">usage: search<span class="fc6 ls34">.</span>py [<span class="fc6 ls34">-</span><span class="ws13b">h] [<span class="fc6 ws13a">-</span></span>p pattern] [<span class="fc6 ls34">-</span><span class="ws13b">v] [<span class="fc6 ls34">-</span>o OUTFILE] [<span class="fc6 ls34">--</span>speed {slow,fast}]</span></div><div class="t m0 x41 hf y1ad ff8 fs5 fc0 sc0 ls0 ws4">[filename [filename <span class="fc6 ls34 ws76a">...</span>]]</div><div class="t m0 x5 hf y1af ff8 fs5 fc0 sc0 ls0 ws4">Search some files</div><div class="t m0 x5 hf y355 ff8 fs5 fc0 sc0 ls0 ws4">positional arguments:</div><div class="t m0 x19 hf y410 ff8 fs5 fc0 sc0 ls0">filename</div><div class="t m0 x5 hf yba ff8 fs5 fc0 sc0 ls0 ws4">optional arguments:</div><div class="t m0 x19 hf y8c6 ff8 fs5 fc6 sc0 ls34">-<span class="fc0 ls0 ws159">h, </span>--<span class="fc0 ls0 ws4">help<span class="_ _3d"> </span>show this help message <span class="ff7 fca ws139">and <span class="ff8">exit</span></span></span></div><div class="t m0 x19 hf ybed ff8 fs5 fc6 sc0 ls34">-<span class="fc0 ls0 ws4">p pattern, </span>--<span class="fc0 ls0 ws13b">pat pattern</span></div><div class="t m0 x24 hf ybee ff8 fs5 fc0 sc0 ls0 ws4">text pattern to search <span class="ff7 fca">for</span></div><div class="t m0 x19 hf ybef ff8 fs5 fc6 sc0 ls34">-<span class="fc0 ls0 ws4">v<span class="_ _3e"> </span>verbose mode</span></div><div class="t m0 x19 hf ybf0 ff8 fs5 fc6 sc0 ls34">-<span class="fc0 ls0 ws4">o OUTFILE<span class="_ _3d"> </span>output <span class="fca">file</span></span></div><div class="t m0 x19 hf yd7d ff8 fs5 fc6 sc0 ls34">--<span class="fc0 ls0 ws13b">speed {slow,fast}<span class="_ _3a"> </span>search<span class="_ _26"> </span>speed</span></div><div class="t m0 x0 h7 y14bc ff1 fs3 fc0 sc0 ls0 ws38">下面的部分演示了程序中的数据部分。仔细观察 <span class="ff4 ws11e9">prin<span class="_ _1"></span>t() <span class="ff1">语句的打印输出。</span></span></div><div class="t m0 x5 hf y1f92 ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws4">python3 search<span class="fc6 ls34">.</span>py foo<span class="fc6 ls34">.</span>txt bar<span class="fc6 ls34">.</span>txt</span></div><div class="t m0 x5 hf y1f93 ff8 fs5 fc0 sc0 ls0 ws4">usage: search<span class="fc6 ls34">.</span>py [<span class="fc6 ls34">-</span><span class="ws159">h] <span class="fc6 ls34">-</span><span class="ws13b">p pattern [<span class="fc6 ws13a">-</span></span></span>v] [<span class="fc6 ls34">-</span>o OUTFILE] [<span class="fc6 ws13a">--</span>speed {fast,slow}]</div><div class="t m0 x41 hf y1dcd ff8 fs5 fc0 sc0 ls0 ws4">[filename [filename <span class="fc6 ls34 ws76a">...</span>]]</div><div class="t m0 x5 hf y1f94 ff8 fs5 fc0 sc0 ls0 ws13a">search<span class="fc6 ls34">.</span><span class="ws4">py: error: the following arguments are required: </span><span class="fc6">-</span><span class="ls34">p<span class="fc6 ws76a">/--</span></span>pat</div><div class="t m0 x5 hf y2ac8 ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws4">python3 search<span class="fc6 ls34">.</span><span class="ws159">py <span class="fc6 ls34">-</span><span class="ls32">v<span class="fc6 ls34">-</span></span><span class="ws145">p spam <span class="fc6 ls34">--</span><span class="ws13a">pat<span class="fc6 ls34">=</span><span class="ws13b">eggs foo<span class="fc6 ls34">.</span></span></span></span></span>txt bar<span class="fc6 ls34">.</span>txt</span></div><div class="t m0 x5 hf y2ac9 ff8 fs5 fc0 sc0 ls0 ws16e">filenames <span class="fc6 ls33">=</span><span class="ws13a">[<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">foo.txt<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">bar.txt<span class="ff9 ls34">&apos;</span></span>]</span></div><div class="t m0 x5 hf y1e82 ff8 fs5 fc0 sc0 ls0 ws11ea">patterns <span class="fc6 ls33">=</span><span class="ws13a">[<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">spam<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">eggs<span class="ff9 ls34">&apos;</span></span>]</span></div><div class="t m0 x5 hf y318a ff8 fs5 fc0 sc0 ls0 ws118a">verbose <span class="fc6 ls33">=</span><span class="fca">True</span></div><div class="t m0 x5 hf y318b ff8 fs5 fc0 sc0 ls0 ws118a">outfile <span class="fc6 ls33">=</span><span class="fca">None</span></div><div class="t m0 x5 hf y318c ff8 fs5 fc0 sc0 ls0 ws11eb">speed <span class="fc6 ls33">=</span>slow</div><div class="t m0 x5 hf y318d ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws4">python3 search<span class="fc6 ls34">.</span><span class="ws159">py <span class="fc6 ls34">-</span><span class="ls32">v<span class="fc6 ls34">-</span></span><span class="ws145">p spam <span class="fc6 ls34">--</span><span class="ws13a">pat<span class="fc6 ls34">=</span><span class="ws13b">eggs foo<span class="fc6 ls34">.</span></span></span></span></span>txt bar<span class="fc6 ls34">.</span><span class="ws158">txt <span class="fc6 ls34">-</span><span class="ws13b">o results</span></span></span></div><div class="t m0 x5 hf y318e ff8 fs5 fc0 sc0 ls0 ws16e">filenames <span class="fc6 ls33">=</span><span class="ws13a">[<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">foo.txt<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">bar.txt<span class="ff9 ls34">&apos;</span></span>]</span></div><div class="t m0 x5 hf y318f ff8 fs5 fc0 sc0 ls0 ws11ea">patterns <span class="fc6 ls33">=</span><span class="ws13a">[<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">spam<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">eggs<span class="ff9 ls34">&apos;</span></span>]</span></div><div class="t m0 x5 hf y3190 ff8 fs5 fc0 sc0 ls0 ws118a">verbose <span class="fc6 ls33">=</span><span class="fca">True</span></div><div class="t m0 x5 hf y3191 ff8 fs5 fc0 sc0 ls0 ws118a">outfile <span class="fc6 ls33">=</span>results</div><div class="t m0 x5 hf y3192 ff8 fs5 fc0 sc0 ls0 ws11eb">speed <span class="fc6 ls33">=</span>slow</div><div class="t m0 x5 hf y3193 ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws4">python3 search<span class="fc6 ls34">.</span><span class="ws159">py <span class="fc6 ls34">-</span><span class="ls32">v<span class="fc6 ls34">-</span></span><span class="ws145">p spam <span class="fc6 ls34">--</span><span class="ws13a">pat<span class="fc6 ls34">=</span><span class="ws13b">eggs foo<span class="fc6 ls34">.</span></span></span></span></span>txt bar<span class="fc6 ls34">.</span><span class="ws158">txt <span class="fc6 ls34">-</span><span class="ws13b">o results \</span></span></span></div><div class="t m0 x3d hf y6ab ff8 fs5 fc6 sc0 ls34">--<span class="fc0 ls0 ws13a">speed<span class="fc6">=</span>fast</span></div><div class="t m0 x5 hf y3194 ff8 fs5 fc0 sc0 ls0 ws16e">filenames <span class="fc6 ls33">=</span><span class="ws13a">[<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">foo.txt<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">bar.txt<span class="ff9 ls34">&apos;</span></span>]</span></div><div class="t m0 x5 hf y3195 ff8 fs5 fc0 sc0 ls0 ws11ea">patterns <span class="fc6 ls33">=</span><span class="ws13a">[<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">spam<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">eggs<span class="ff9 ls34">&apos;</span></span>]</span></div><div class="t m0 x5 hf y3196 ff8 fs5 fc0 sc0 ls0 ws118a">verbose <span class="fc6 ls33">=</span><span class="fca">True</span></div><div class="t m0 x5 hf y3197 ff8 fs5 fc0 sc0 ls0 ws118a">outfile <span class="fc6 ls33">=</span>results</div><div class="t m0 x5 hf y3198 ff8 fs5 fc0 sc0 ls0 ws11eb">speed <span class="fc6 ls33">=</span>fast</div><div class="t m0 x0 h9 y1e12 ff1 fs3 fc0 sc0 ls0 ws14">对于选项值的进一步处理由程序来决定，用你自己的逻辑来替代 <span class="ff6 ws472">print() </span>函数。</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">15.3.<span class="_ _36"> </span>13.3 <span class="ff1 ws600">解析命令行选项 </span>495</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
