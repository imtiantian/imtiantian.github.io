<div id="pfde" class="pf w0 h0" data-page-no="de"><div class="pc pcde w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bgde.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff8 fs5 fc0 sc0 ls0 ws13a">spam(<span class="fc7">1</span><span class="ls33">)</span><span class="ffa fcd ws4"># Ok. a=1, b=42</span></div><div class="t m0 x5 hf y1ac ff8 fs5 fc0 sc0 ls0 ws13a">spam(<span class="fc7">1</span><span class="ls33">,<span class="fc7 ls34">2</span><span class="ls32">)</span></span><span class="ffa fcd ws4"># Ok. a=1, b=2</span></div><div class="t m0 x0 h7 y1831 ff1 fs3 fc0 sc0 ls0 ws91a">如果<span class="_ _6"></span>默<span class="_ _6"></span>认参<span class="_ _6"></span>数<span class="_ _6"></span>是一<span class="_ _6"></span>个可<span class="_ _6"></span>修<span class="_ _6"></span>改的<span class="_ _6"></span>容<span class="_ _6"></span>器比<span class="_ _6"></span>如<span class="_ _6"></span>一个<span class="_ _6"></span>列<span class="_ _6"></span>表、集<span class="_ _6"></span>合<span class="_ _6"></span>或者<span class="_ _6"></span>字典，<span class="_ _6"></span>可<span class="_ _6"></span>以使<span class="_ _6"></span>用 <span class="ff4">None</span></div><div class="t m0 x5 h9 y1832 ff1 fs3 fc0 sc0 ls0">作为默认值，就像下面这样：</div><div class="t m0 x5 h11 y13be ffa fs5 fcd sc0 ls0 ws4"># Using a list as a default value</div><div class="t m0 x5 hf y1833 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">spam<span class="fc0 ws13b">(a, b<span class="fc6 ls34">=</span></span><span class="fca">None<span class="fc0">):</span></span></span></div><div class="t m0 x15 hf y13bf ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 fc0 ls33">b</span>is <span class="ff8 ws13a">None<span class="fc0">:</span></span></div><div class="t m0 x16 hf y13c0 ff8 fs5 fc0 sc0 ls32">b<span class="fc6 ls33">=</span><span class="ls0">[]</span></div><div class="t m0 x15 hf y13c1 ff8 fs5 fc6 sc0 ls0 ws13a">...</div><div class="t m0 x0 h9 y1834 ff1 fs3 fc0 sc0 ls63 ws21f">如果你并不想提供一个默认值<span class="_ _c"></span>，而是想仅仅测试下某个默认参数是不是有传递进<span class="_ _1"></span></div><div class="t m0 x5 h9 y1835 ff1 fs3 fc0 sc0 ls0">来，可以像下面这样写：</div><div class="t m0 x5 hf y1836 ff8 fs5 fc0 sc0 ls0 ws16e">_no_value <span class="fc6 ls33">=</span><span class="fca ws13a">object</span>()</div><div class="t m0 x5 hf y1837 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">spam<span class="fc0 ws13b">(a, b<span class="fc6 ls34">=</span>_no_value):</span></span></div><div class="t m0 x15 hf y1838 ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 fc0 ls33">b</span>is <span class="ff8 fc0">_no_value:</span></div><div class="t m0 x16 hf y1839 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws4">No b value supplied<span class="ff9 ws13b">&apos;</span><span class="fc0">)</span></span></span></span></div><div class="t m0 x15 hf y183a ff8 fs5 fc6 sc0 ls0 ws13a">...</div><div class="t m0 x0 h9 y183b ff1 fs3 fc0 sc0 ls0">我们测试下这个函数：</div><div class="t m0 x5 hf y183c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">spam(<span class="fc7">1</span>)</span></div><div class="t m0 x5 hf ya20 ff8 fs5 fc8 sc0 ls0 ws4">No b value supplied</div><div class="t m0 x5 hf ya21 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">spam(<span class="fc7">1</span><span class="ls33">,</span><span class="fc7">2</span><span class="ls33">)</span><span class="ffa fcd ws4"># b = 2</span></span></div><div class="t m0 x5 hf ya22 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">spam(<span class="fc7">1</span><span class="ls33">,</span><span class="fca">None</span><span class="ls32">)</span><span class="ffa fcd ws4"># b = None</span></span></div><div class="t m0 x5 hf y183d ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 y183e ff1 fs3 fc0 sc0 ls0 ws38">仔细观察可以发现到传递一个 <span class="ff4 ws91b">None </span>值和不传值两种情况是有差别的。</div><div class="t m0 x5 he y183f ff2 fs2 fc4 sc0 ls0 ws135">9.5.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y1840 ff1 fs3 fc0 sc0 ls3a ws153">定义带默认值参数的函数是很简单的，但绝不仅仅只是这个，还有一些东西在这里</div><div class="t m0 x5 h9 y1841 ff1 fs3 fc0 sc0 ls0">也深入讨论下。</div><div class="t m0 x0 h9 y1842 ff1 fs3 fc0 sc0 ls0">首先，默认参数的值仅仅在函数定义的时候赋值一次。试着运行下面这个例子：</div><div class="t m0 x5 hf y1843 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">x<span class="fc6 ls33">=<span class="fc7 ls0">42</span></span></span></div><div class="t m0 x5 hf y1844 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca">def <span class="ff8 fcb ws13a">spam<span class="fc0 ws13b">(a, b<span class="fc6 ls34">=</span>x):</span></span></span></div><div class="t m0 x5 hf y1845 ff7 fs5 fc5 sc0 ls0 ws1a2">... <span class="fca ws156">print<span class="ff8 fc0 ws4">(a, b)</span></span></div><div class="t m0 x5 h10 y1846 ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf y1847 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">spam(<span class="fc7">1</span>)</span></div><div class="t m0 x5 hf y1848 ff8 fs5 fc8 sc0 ls0 ws4">1 42</div><div class="t m0 x5 hf y1849 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">x<span class="fc6 ls33">=<span class="fc7 ls0 ws159">23 <span class="ffa fcd ws4"># Has no effect</span></span></span></span></div><div class="t m0 x5 hf y184a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">spam(<span class="fc7">1</span>)</span></div><div class="t m0 x5 hf y184b ff8 fs5 fc8 sc0 ls0 ws4">1 42</div><div class="t m0 x5 hf y184c ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 y184d ff1 fs3 fc0 sc0 ls0 ws48b">注意到当我们改变 <span class="ff4 ls14d">x</span><span class="wsa0">的值的时候对默认参数值并没有影响，<span class="_ _1"></span>这是因为在函数定义的</span></div><div class="t m0 x5 h9 y184e ff1 fs3 fc0 sc0 ls0">时候就已经确定了它的默认值了。</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">9.5.<span class="_ _5"> </span>7.5 <span class="ff1 ws855">定义有默认参数的函数 </span>213</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
