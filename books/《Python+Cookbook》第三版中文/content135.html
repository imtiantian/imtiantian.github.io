<div id="pf87" class="pf w0 h0" data-page-no="87"><div class="pc pc87 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg87.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hd y112 ff2 fs4 fc4 sc0 ls0 ws211">6.11<span class="_ _e"> </span>4.11 <span class="ff1">同时迭代多个序列</span></div><div class="t m0 x5 he y113 ff2 fs2 fc4 sc0 ls0 ws212">6.11.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y2b2 ff1 fs3 fc0 sc0 ls0">你想同时迭代多个序列，每次分别从一个序列中取一个元素。</div><div class="t m0 x5 he y2b3 ff2 fs2 fc4 sc0 ls0 ws212">6.11.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y2b4 ff1 fs3 fc0 sc0 ls0 ws38">为了同时迭代多个序列，使用 <span class="ff6 ws17d">zip() </span>函数。比如：</div><div class="t m0 x5 hf y2b5 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13c">xpts <span class="fc6 ls32">=</span><span class="ls34">[</span><span class="fc7 ws13a">1</span><span class="ls33">,<span class="fc7 ls34">5</span><span class="ls32">,<span class="fc7 ls34">4</span>,<span class="fc7 ls34">2</span>,</span></span><span class="fc7 ws13a">10</span><span class="ls32">,<span class="fc7 ls34">7</span></span>]</span></div><div class="t m0 x5 hf y2b6 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13c">ypts <span class="fc6 ls32">=</span><span class="ls34">[</span><span class="fc7 ws13a">101</span><span class="ls32">,</span><span class="fc7 ws13a">78</span><span class="ls32">,</span><span class="fc7 ws13a">37</span><span class="ls32">,</span><span class="fc7 ws13a">15</span><span class="ls32">,</span><span class="fc7 ws13a">62</span><span class="ls32">,</span><span class="fc7 ws13a">99</span>]</span></div><div class="t m0 x5 hf y2b7 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca">for <span class="ff8 fc0 ws13b">x, y </span><span class="ws160">in <span class="ff8 ws13a">zip<span class="fc0 ws13b">(xpts, ypts):</span></span></span></span></div><div class="t m0 x5 hf y2b8 ff7 fs5 fc5 sc0 ls0 ws1a2">... <span class="fca ws156">print<span class="ff8 fc0">(x,y)</span></span></div><div class="t m0 x5 h10 y2b9 ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf yee1 ff8 fs5 fc8 sc0 ls0 ws4">1 101</div><div class="t m0 x5 hf y2ba ff8 fs5 fc8 sc0 ls0 ws4">5 78</div><div class="t m0 x5 hf y2bb ff8 fs5 fc8 sc0 ls0 ws4">4 37</div><div class="t m0 x5 hf y2bc ff8 fs5 fc8 sc0 ls0 ws4">2 15</div><div class="t m0 x5 hf y2bd ff8 fs5 fc8 sc0 ls0 ws4">10 62</div><div class="t m0 x5 hf y2be ff8 fs5 fc8 sc0 ls0 ws4">7 99</div><div class="t m0 x5 hf yee2 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 yee3 ff6 fs3 fc0 sc0 ls0 ws5ce">zip(a,<span class="_ _26"> </span>b) <span class="ff1 ws5cf">会生成一个可返回元组 </span><span class="ws5d0">(x,<span class="_ _1e"> </span>y) <span class="ff1 ws5d1">的迭代器，其中 <span class="ff4 lsf3">x</span><span class="ws5cf">来自 <span class="ff4 ls6">a</span><span class="wsa0">，<span class="_ _1"></span><span class="ff4 lsf3">y<span class="ff1 ls0 ws5cf">来自 <span class="ff4 wsa5">b</span><span class="wsa0">。<span class="_ _1"></span>一</span></span></span></span></span></span></span></div><div class="t m0 x5 h9 yee4 ff1 fs3 fc0 sc0 ls0">旦其中某个序列到底结尾，迭代宣告结束。因此迭代长度跟参数中最短序列长度一致。</div><div class="t m0 x5 hf y2c2 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=</span><span class="ls34">[<span class="fc7 ls0 ws13a">1</span><span class="ls33">,<span class="fc7 ls0 ws13a">2</span>,</span><span class="fc7">3</span><span class="ls0">]</span></span></span></div><div class="t m0 x5 hf y2c3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">b<span class="fc6 ls33">=</span><span class="ls34">[</span></span><span class="ff9 fc9 ws13b">&apos;<span class="ff8 ls34">w<span class="ff9">&apos;</span><span class="fc0 ls32">,</span><span class="ff9">&apos;</span>x</span>&apos;<span class="ff8 fc0 ls33">,</span><span class="ls34">&apos;</span><span class="ff8 ws13a">y</span><span class="ls34">&apos;<span class="ff8 fc0 ls32">,</span>&apos;<span class="ff8">z</span>&apos;</span><span class="ff8 fc0">]</span></span></div><div class="t m0 x5 hf y2c4 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca">for <span class="ff8 fc0 ls32">i</span><span class="ws157">in <span class="ff8 ws13a">zip<span class="fc0">(a,b):</span></span></span></span></div><div class="t m0 x5 hf y2c5 ff7 fs5 fc5 sc0 ls0 ws1a2">... <span class="fca ws156">print<span class="ff8 fc0">(i)</span></span></div><div class="t m0 x5 h10 y2c6 ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf yee5 ff8 fs5 fc8 sc0 ls0 ws158">(1, <span class="ff9 ls34">&apos;</span><span class="ws13a">w<span class="ff9 ls34">&apos;</span>)</span></div><div class="t m0 x5 hf yee6 ff8 fs5 fc8 sc0 ls0 ws158">(2, <span class="ff9 ls34">&apos;</span><span class="ws13a">x<span class="ff9 ls34">&apos;</span>)</span></div><div class="t m0 x5 hf yee7 ff8 fs5 fc8 sc0 ls0 ws158">(3, <span class="ff9 ls34">&apos;</span><span class="ws13a">y<span class="ff9 ls34">&apos;</span>)</span></div><div class="t m0 x5 hf yee8 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 yee9 ff1 fs3 fc0 sc0 ls0 ws5d2">如<span class="_ _6"></span>果<span class="_ _6"></span>这<span class="_ _6"></span>个<span class="_ _6"></span>不<span class="_ _0"></span>是你<span class="_ _0"></span>想要<span class="_ _6"></span>的<span class="_ _0"></span>效果，<span class="_ _0"></span>那么<span class="_ _0"></span>还可<span class="_ _0"></span>以使<span class="_ _0"></span>用 <span class="ff6 ws5d3">itertools.zip longest() </span><span class="ls36 ws14a">函数来<span class="_ _1"></span></span></div><div class="t m0 x5 h9 yeea ff1 fs3 fc0 sc0 ls0">代替。比如：</div><div class="t m0 x5 hf yeeb ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws15a">from <span class="fcc ws285">itertools </span><span class="ws146">import <span class="ff8 fc0">zip_longest</span></span></span></div><div class="t m0 x5 hf yeec ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca">for <span class="ff8 fc0 ls32">i</span><span class="ws157">in <span class="ff8 fc0">zip_longest(a,b):</span></span></span></div><div class="t m0 x5 hf yeed ff7 fs5 fc5 sc0 ls0 ws1a2">... <span class="fca ws156">print<span class="ff8 fc0">(i)</span></span></div><div class="t m0 x5 h10 yeee ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf yeef ff8 fs5 fc8 sc0 ls0 ws158">(1, <span class="ff9 ls34">&apos;</span><span class="ws13a">w<span class="ff9 ls34">&apos;</span>)</span></div><div class="t m0 x5 hf yef0 ff8 fs5 fc8 sc0 ls0 ws158">(2, <span class="ff9 ls34">&apos;</span><span class="ws13a">x<span class="ff9 ls34">&apos;</span>)</span></div><div class="t m0 x5 hf yef1 ff8 fs5 fc8 sc0 ls0 ws158">(3, <span class="ff9 ls34">&apos;</span><span class="ws13a">y<span class="ff9 ls34">&apos;</span>)</span></div><div class="t m0 x5 hf yef2 ff8 fs5 fc8 sc0 ls0 ws145">(None, <span class="ff9 ls34">&apos;<span class="ff8">z</span><span class="ls0 ws13b">&apos;</span></span>)</div><div class="t m0 x5 hf yef3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca">for <span class="ff8 fc0 ls32">i</span><span class="ws157">in <span class="ff8 fc0 ws4">zip_longest(a, b, fillvalue<span class="fc6 ls34">=<span class="fc7">0</span></span>):</span></span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">6.11.<span class="_ _5"> </span>4.11 <span class="ff1 ws533">同时迭代多个序列 </span>126</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
