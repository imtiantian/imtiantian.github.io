<div id="pf65" class="pf w0 h0" data-page-no="65"><div class="pc pc65 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg65.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf yb43 ff8 fs5 fc8 sc0 ls0">nan</div><div class="t m0 x5 hf yb44 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 yb45 ff1 fs3 fc0 sc0 ls0 ws38">为了测试这些值的存在，使用 <span class="ff6 ws1dc">math.isinf() </span><span class="ls4">和</span><span class="ff6 ws1dc">math.isnan() </span>函数。比如：</div><div class="t m0 x5 hf yb46 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">math<span class="fc6 ls34">.</span>isinf(a)</span></div><div class="t m0 x5 hf yb47 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf yb48 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">math<span class="fc6 ls34">.</span>isnan(c)</span></div><div class="t m0 x5 hf yb49 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf yb4a ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 he yb4b ff2 fs2 fc4 sc0 ls0 ws135">5.7.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h7 ya70 ff1 fs3 fc0 sc0 ls18 ws4bf">想了解更多这些特殊浮点值的信息，可以参考 <span class="ff4 ls0 ws4c0">IEEE 754 </span><span class="ws110">规范。然而<span class="_ _1"></span>，也有一些地</span></div><div class="t m0 x5 h9 yb4c ff1 fs3 fc0 sc0 ls0">方需要你特别注意，特别是跟比较和操作符相关的时候。</div><div class="t m0 x0 h9 yb4d ff1 fs3 fc0 sc0 ls0">无穷大数在执行数学计算的时候会传播，比如：</div><div class="t m0 x5 hf yb4e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=<span class="fca ls0 ws13a">float</span></span><span class="ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">inf</span>&apos;</span><span class="ls0">)</span></span></span></div><div class="t m0 x5 hf yb4f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">+<span class="fc7 ls0">45</span></span></span></div><div class="t m0 x5 hf yb50 ff8 fs5 fc8 sc0 ls0">inf</div><div class="t m0 x5 hf yb51 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">*<span class="fc7 ls0">10</span></span></span></div><div class="t m0 x5 hf yb52 ff8 fs5 fc8 sc0 ls0">inf</div><div class="t m0 x5 hf yb53 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc7 ws159">10 <span class="fc6 ls33">/</span><span class="fc0">a</span></span></div><div class="t m0 x5 hf yb54 ff8 fs5 fc8 sc0 ls0">0.0</div><div class="t m0 x5 hf yb55 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 yb56 ff1 fs3 fc0 sc0 ls0 ws38">但是有些操作时未定义的并会返回一个 <span class="ff4 ws4c1">NaN </span>结果。比如：</div><div class="t m0 x5 hf yb57 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=<span class="fca ls0 ws13a">float</span></span><span class="ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">inf</span>&apos;</span><span class="ls0">)</span></span></span></div><div class="t m0 x5 hf yb58 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">a<span class="fc6 ls0 ws13a">/<span class="fc0">a</span></span></span></div><div class="t m0 x5 hf yb59 ff8 fs5 fc8 sc0 ls0">nan</div><div class="t m0 x5 hf yb5a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">b<span class="fc6 ls33">=<span class="fca ls0 ws13a">float</span></span><span class="ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">-inf</span>&apos;</span><span class="ls0">)</span></span></span></div><div class="t m0 x5 hf yb5b ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">+</span><span class="ls0">b</span></span></div><div class="t m0 x5 hf yb5c ff8 fs5 fc8 sc0 ls0">nan</div><div class="t m0 x5 hf yb5d ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 yb5e ff4 fs3 fc0 sc0 ls0 ws4c2">NaN <span class="ff1">值会在所有操作中传播，而不会产生异常。比如：</span></div><div class="t m0 x5 hf yb5f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">c<span class="fc6 ls33">=<span class="fca ls0 ws13a">float</span></span><span class="ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">nan</span>&apos;</span><span class="ls0">)</span></span></span></div><div class="t m0 x5 hf yb60 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">c<span class="fc6 ls33">+<span class="fc7 ls0">23</span></span></span></div><div class="t m0 x5 hf yb61 ff8 fs5 fc8 sc0 ls0">nan</div><div class="t m0 x5 hf yb62 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">c<span class="fc6 ls33">/<span class="fc7 ls0">2</span></span></span></div><div class="t m0 x5 hf yb63 ff8 fs5 fc8 sc0 ls0">nan</div><div class="t m0 x5 hf yb64 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">c<span class="fc6 ls33">*<span class="fc7 ls0">2</span></span></span></div><div class="t m0 x5 hf yb65 ff8 fs5 fc8 sc0 ls0">nan</div><div class="t m0 x5 hf yb66 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">math<span class="fc6 ls34">.</span>sqrt(c)</span></div><div class="t m0 x5 hf yb67 ff8 fs5 fc8 sc0 ls0">nan</div><div class="t m0 x5 hf yb68 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 yb69 ff4 fs3 fc0 sc0 ls0 ws4c2">NaN <span class="ff1 ws63">值的一个特别的地方时它们之间的比较操作总是返回 </span><span class="wsa5">F<span class="_ _8"></span>alse<span class="ff1">。比如：</span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">5.7.<span class="_ _5"> </span>3.7 <span class="ff1 ws16b">无穷大与 </span><span class="ws4be">NaN 92</span></div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
