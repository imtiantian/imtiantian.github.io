<div id="pf12" class="pf w0 h0" data-page-no="12"><div class="pc pc12 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg12.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 he y137 ff2 fs2 fc4 sc0 ls0 ws135">3.2.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y138 ff1 fs3 fc0 sc0 ls3a ws153">扩展的迭代解压语法是专门为解压不确定个数或任意个数元素的可迭代对象而设计</div><div class="t m0 x5 h7 y139 ff1 fs3 fc0 sc0 ls22 ws154">的。通常<span class="_ _c"></span>，这些可迭代对象的元素结构有确定的规则（比如第 <span class="ff4 ls3b">1</span><span class="ls0 wsa0">个元<span class="_ _6"></span>素后<span class="_ _6"></span>面<span class="_ _6"></span>都是<span class="_ _6"></span>电话</span></div><div class="t m0 x5 h9 y13a ff1 fs3 fc0 sc0 ls0 wsa0">号码）<span class="_ _f"></span>，星号表达式让开发人员可以很容易的利用这些规则来解压出元素来。<span class="_ _1"></span>而不是通</div><div class="t m0 x5 h9 y13b ff1 fs3 fc0 sc0 ls0">过一些比较复杂的手段去获取这些关联的的元素值。</div><div class="t m0 x0 h9 y13c ff1 fs3 fc0 sc0 ls30 ws138">值得注意的是<span class="_ _1"></span>，星号表达式在迭代元素为可变长元组的序列时是很有用的。比如<span class="_ _c"></span>，</div><div class="t m0 x5 h9 y13d ff1 fs3 fc0 sc0 ls0">下面是一个带有标签的元组序列：</div><div class="t m0 x5 hf y13e ff8 fs5 fc0 sc0 ls0 ws155">records <span class="fc6 ls32">=</span>[</div><div class="t m0 x15 hf y13f ff8 fs5 fc0 sc0 ls34">(<span class="ff9 fc9 ls0 ws13b">&apos;<span class="ff8 ws13a">foo</span>&apos;</span><span class="ls33">,<span class="fc7 ls0 ws13a">1</span>,</span><span class="fc7">2</span><span class="ls0">),</span></div><div class="t m0 x15 hf y140 ff8 fs5 fc0 sc0 ls34">(<span class="ff9 fc9 ls0 ws13b">&apos;<span class="ff8 ws13a">bar</span>&apos;</span><span class="ls33">,<span class="ff9 fc9 ls0 ws13b">&apos;<span class="ff8 ws13a">hello</span><span class="ls34">&apos;</span></span><span class="ls0">),</span></span></div><div class="t m0 x15 hf y141 ff8 fs5 fc0 sc0 ls34">(<span class="ff9 fc9 ls0 ws13b">&apos;<span class="ff8 ws13a">foo</span>&apos;</span><span class="ls33">,<span class="fc7 ls0 ws13a">3</span>,</span><span class="fc7">4</span><span class="ls0">),</span></div><div class="t m0 x5 hf y142 ff8 fs5 fc0 sc0 ls0">]</div><div class="t m0 x5 hf y143 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">do_foo<span class="fc0 ws4">(x, y):</span></span></div><div class="t m0 x15 hf y144 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">foo<span class="ff9 ls34">&apos;</span></span><span class="ws13b">, x, y)</span></span></div><div class="t m0 x5 hf y145 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">do_bar<span class="fc0">(s):</span></span></div><div class="t m0 x15 hf y146 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">bar<span class="ff9 ls34">&apos;</span></span><span class="ws13b">, s)</span></span></div><div class="t m0 x5 hf y147 ff7 fs5 fca sc0 ls0 ws139">for <span class="ff8 fc0 ws13c">tag, <span class="fc6 ws13a">*</span>args </span><span class="ws157">in <span class="ff8 fc0">records:</span></span></div><div class="t m0 x15 hf y148 ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 fc0 ws158">tag <span class="fc6 ws159">== <span class="ff9 fc9 ls34">&apos;</span><span class="fc9 ws13a">foo<span class="ff9 ls34">&apos;</span></span></span>:</span></div><div class="t m0 x16 hf y149 ff8 fs5 fc0 sc0 ls0 ws13a">do_foo(<span class="fc6 ls34">*</span>args)</div><div class="t m0 x15 hf y14a ff7 fs5 fca sc0 ls0 ws15a">elif <span class="ff8 fc0 ws15b">tag <span class="fc6 ws15c">== <span class="ff9 fc9 ws13b">&apos;<span class="ff8 ws13a">bar</span>&apos;</span></span>:</span></div><div class="t m0 x16 hf y14b ff8 fs5 fc0 sc0 ls0 ws13a">do_bar(<span class="fc6 ls34">*</span>args)</div><div class="t m0 x0 h9 y14c ff1 fs3 fc0 sc0 ls0">星号解压语法在字符串操作的时候也会很有用，比如字符串的分割。</div><div class="t m0 x0 h9 y14d ff1 fs3 fc0 sc0 ls0">代码示例：</div><div class="t m0 x5 hf y14e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13c">line <span class="fc6 ls32">=<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws13b">nobody:*:-2:-2:Unprivileged User:/var/empty:/usr/bin/false<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 hf y14f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws145">uname, <span class="fc6 ls34">*</span><span class="ws13b">fields, homedir, sh <span class="fc6 ls33">=</span><span class="ws13a">line<span class="fc6">.</span>split(</span><span class="ff9 fc9">&apos;<span class="ff8 ls34">:<span class="ff9">&apos;</span></span></span>)</span></span></div><div class="t m0 x5 hf y150 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">uname</span></div><div class="t m0 x5 hf y151 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">nobody<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y152 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">homedir</span></div><div class="t m0 x5 hf y153 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/var/empty<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y154 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">sh</span></div><div class="t m0 x5 hf y155 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/usr/bin/false<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y156 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y157 ff1 fs3 fc0 sc0 ls0 ws15d">有时候，你想解压一些元素后丢弃它们，<span class="_ _c"></span>你不能简单就使用 <span class="ff6 ls3c">*</span><span class="wsa0">，但是你可以使用一</span></div><div class="t m0 x5 h9 y158 ff1 fs3 fc0 sc0 ls0 wsc">个普通的废弃名称，比如<span class="_ _10"> </span>或者 <span class="ff6 ws15e">ign </span>。</div><div class="t m0 x0 h9 y159 ff1 fs3 fc0 sc0 ls0">代码示例：</div><div class="t m0 x5 hf y15a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws145">record <span class="fc6 ls32">=</span><span class="ls34">(<span class="ff9 fc9">&apos;</span></span><span class="fc9 ws13a">ACME<span class="ff9 ls34">&apos;</span></span><span class="ls32">,</span><span class="fc7 ws13a">50</span><span class="ls33">,</span><span class="fc7 ws13a">123.45</span><span class="ws4">, (<span class="fc7 ws13a">12</span><span class="ls32">,</span><span class="fc7 ws13a">18</span><span class="ls32">,</span><span class="fc7 ws13a">2012</span>))</span></span></div><div class="t m0 x5 hf y15b ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws15f">name, <span class="fc6 ls34">*</span><span class="ws4">_, (<span class="fc6 ls34">*</span><span class="ws13b">_, year) <span class="fc6 ls33">=</span>record</span></span></span></div><div class="t m0 x5 hf y15c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">name</span></div><div class="t m0 x5 hf y15d ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">ACME<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y15e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">year</span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">3.2.<span class="_ _5"> </span>1.2 <span class="ff1 ws152">解压可迭代对象赋值给多个变量 </span>9</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
