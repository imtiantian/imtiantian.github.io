<div id="pfa0" class="pf w0 h0" data-page-no="a0"><div class="pc pca0 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bga0.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 h11 y1e8 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Expand the user<span class="ffb ls34">&apos;</span>s home directory</span></div><div class="t m0 x5 hf y1e9 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13c">path <span class="fc6 ls32">=<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws13a">~/Data/data.csv<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 hf y1ea ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">os<span class="fc6 ls34">.</span>path<span class="fc6 ls34">.</span>expanduser(path)</span></div><div class="t m0 x5 hf y903 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/Users/beazley/Data/data.csv<span class="ff9">&apos;</span></span></div><div class="t m0 x5 h11 y1ec ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Split the file extension</span></div><div class="t m0 x5 hf y904 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">os<span class="fc6 ls34">.</span>path<span class="fc6 ls34">.</span>splitext(path)</span></div><div class="t m0 x5 hf y905 ff8 fs5 fc8 sc0 ls34">(<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">~/Data/data</span><span class="ff9">&apos;</span><span class="ls33">,<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">.csv</span></span><span class="ff9">&apos;</span><span class="ls0">)</span></div><div class="t m0 x5 hf y906 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 he y39a ff2 fs2 fc4 sc0 ls0 ws212">7.11.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y117d ff1 fs3 fc0 sc0 ls49 ws6b0">对于任何的文件名的操作<span class="_ _1"></span>，你都应该使用 <span class="ff6 ls0 ws6b1">os.path </span><span class="ws1a6">模块<span class="_ _1"></span>，而不是使用标准字符串</span></div><div class="t m0 x5 h9 y117e ff1 fs3 fc0 sc0 lsa8 ws6b2">操作来构造自己的代码。特别是为了可移植性考虑的时候更应如此<span class="_ _1"></span>，因为 <span class="ff6 ls0 ws3dd">os.path <span class="ff1">模</span></span></div><div class="t m0 x5 h7 y117f ff1 fs3 fc0 sc0 ls0 ws6b3">块知道 <span class="ff4 ws6b4">Unix </span><span class="lsfc">和</span><span class="ff4 ws6b5">Windows </span><span class="ls82 ws6b6">系<span class="_ _1"></span>统之间的差异并且能够可靠地处理类似 <span class="ff6 ls0 ws6b7">Data/data.csv <span class="ff1">和</span></span></span></div><div class="t m0 x5 h9 y1180 ff6 fs3 fc0 sc0 ls0 ws303">Data<span class="ffd ls84">\</span><span class="ws6b8">data.csv <span class="ff1 ls49 ws1a6">这样的文件名<span class="_ _1"></span>。其次<span class="_ _1"></span>，你真的不应该浪费时间去重复造轮子<span class="_ _1"></span>。通常最<span class="_ _1"></span></span></span></div><div class="t m0 x5 h9 y1181 ff1 fs3 fc0 sc0 ls0">好是直接使用已经为你准备好的功能。</div><div class="t m0 x0 h9 y1182 ff1 fs3 fc0 sc0 ls0 ws6b9">要<span class="_ _6"></span>注<span class="_ _6"></span>意<span class="_ _6"></span>的<span class="_ _6"></span>是 <span class="ff6 ws183">os.path </span><span class="ls14 ws174">还有更多的功能在这里并没有列举出来<span class="_ _1"></span>。可以查阅官方文档<span class="_ _1"></span></span></div><div class="t m0 x5 h9 y1183 ff1 fs3 fc0 sc0 ls0">来获取更多与文件测试，符号链接等相关的函数说明。</div><div class="t m0 x5 hd y1184 ff2 fs4 fc4 sc0 ls0 ws211">7.12<span class="_ _e"> </span>5.12 <span class="ff1">测试文件是否存在</span></div><div class="t m0 x5 he y1185 ff2 fs2 fc4 sc0 ls0 ws212">7.12.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y1186 ff1 fs3 fc0 sc0 ls0">你想测试一个文件或目录是否存在。</div><div class="t m0 x5 he y1187 ff2 fs2 fc4 sc0 ls0 ws212">7.12.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y1188 ff1 fs3 fc0 sc0 ls0 wsc">使用 <span class="ff6 ws23a">os.path </span>模块来测试一个文件或目录是否存在。比如：</div><div class="t m0 x5 h10 y1189 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">os</span></span></div><div class="t m0 x5 hf y118a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">os<span class="fc6 ls34">.</span>path<span class="fc6 ls34">.</span>exists(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">/etc/passwd<span class="ff9 ws13b">&apos;</span></span>)</span></div><div class="t m0 x5 hf y118b ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y118c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">os<span class="fc6 ls34">.</span>path<span class="fc6 ls34">.</span>exists(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">/tmp/spam<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y118d ff8 fs5 fc8 sc0 ls0">False</div><div class="t m0 x5 hf y118e ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y118f ff1 fs3 fc0 sc0 ls3a ws153">你还能进一步测试这个文件时什么类型的。在下面这些测试中，如果测试的文件不</div><div class="t m0 x5 h7 y1190 ff1 fs3 fc0 sc0 ls0 ws14">存在的时候，结果都会返回 <span class="ff4 wsa5">F<span class="_ _8"></span>alse<span class="ff1">：</span></span></div><div class="t m0 x5 h11 y1191 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Is a regular file</span></div><div class="t m0 x5 hf y1192 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">os<span class="fc6 ls34">.</span>path<span class="fc6 ls34">.</span>isfile(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">/etc/passwd<span class="ff9 ws13b">&apos;</span></span>)</span></div><div class="t m0 x5 hf y1193 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">7.12.<span class="_ _5"> </span>5.12 <span class="ff1 ws533">测试文件是否存在 </span>151</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
