<div id="pff0" class="pf w0 h0" data-page-no="f0"><div class="pc pcf0 w0 h0"><img class="bi x13 y5 w2 hb" alt="" src="bgf0.png"/><div class="t m0 xe h8 y76 ff2 fs3 fc0 sc0 ls0">CHAPTER</div><div class="t m0 x2f hc y77 ff2 fs4 fc0 sc0 ls0">TEN</div><div class="t m0 x30 hd y78 ff1 fs4 fc0 sc0 ls0">第八章：类与对象</div><div class="t m0 x0 h9 y79 ff1 fs3 fc0 sc0 ls6d ws2a0">本章主要关注点的是和类定义有关的常见编程模型<span class="_ _8"></span>。包括让对象支持常见的<span class="_ _8"></span></div><div class="t m0 x5 h7 ycf ff4 fs3 fc0 sc0 ls0 ws9c4">Python <span class="ff1 ls10c ws9c5">特性<span class="_ _8"></span>、特殊方法的使用<span class="_ _d"></span>、类封装技术<span class="_ _d"></span>、继承<span class="_ _d"></span>、内存管理以及有用的设计模<span class="_ _d"></span></span></div><div class="t m0 x5 h9 yd0 ff1 fs3 fc0 sc0 ls0">式。</div><div class="t m0 x0 h7 y9fe ff4 fs3 fc0 sc0 ls0 wsa5">Con<span class="_ _1"></span>ten<span class="_ _1"></span>ts:</div><div class="t m0 x5 hd y134d ff2 fs4 fc4 sc0 ls0 ws9c6">10.1<span class="_ _e"> </span>8.1 <span class="ff1">改变对象的字符串显示</span></div><div class="t m0 x5 he y134e ff2 fs2 fc4 sc0 ls0 ws212">10.1.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y1a11 ff1 fs3 fc0 sc0 ls0">你想改变对象实例的打印或显示输出，让它们更具可读性。</div><div class="t m0 x5 he y1a12 ff2 fs2 fc4 sc0 ls0 ws212">10.1.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y1a13 ff1 fs3 fc0 sc0 ls2c ws9c7">要改变一个实例的字符串表示，可重新定义它的 <span class="ff6 ls0 ws9c8">str<span class="_ _e"> </span>() </span><span class="ls15c">和<span class="ff6 ls0 ws9c8">repr<span class="_ _e"> </span>() <span class="ff1 wsa0">方法。例</span></span></span></div><div class="t m0 x5 h9 y1a14 ff1 fs3 fc0 sc0 ls0">如：</div><div class="t m0 x5 hf y1478 ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ws156">Pair<span class="ff8 fc0">:</span></span></div><div class="t m0 x15 hf y3a6 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">__init__<span class="fc0">(<span class="fca">self</span><span class="ws4">, x, y):</span></span></span></div><div class="t m0 x16 hf y1479 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ls33">x</span><span class="ls32">=</span><span class="fc0">x</span></span></div><div class="t m0 x16 hf y147a ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ls33">y</span><span class="ls32">=</span><span class="fc0">y</span></span></div><div class="t m0 x15 hf y147c ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">__repr__<span class="fc0">(<span class="fca">self</span>):</span></span></div><div class="t m0 x16 hf y1245 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff9 fc9 ls34">&apos;<span class="ff8 ls0 ws13b">Pair({0.x!r}, {0.y!r})<span class="ff9">&apos;</span><span class="fc6 ls34">.</span><span class="fc0 ws13a">format(<span class="fca">self</span>)</span></span></span></div><div class="t m0 x15 hf y1247 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">__str__<span class="fc0 ls34">(</span><span class="fca">self<span class="fc0">):</span></span></span></div><div class="t m0 x16 hf y1248 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff9 fc9 ls34">&apos;<span class="ff8 ls0 ws13b">({0.x!s}, {0.y!s})<span class="ff9">&apos;</span><span class="fc6 ls34">.</span><span class="fc0 ws13a">format(<span class="fca">self</span>)</span></span></span></div><div class="t m0 x31 h9 y291 ff6 fs3 fc0 sc0 ls0 ws9c9">repr<span class="_ _e"> </span>() <span class="ff1 wsa0">方<span class="_ _6"></span>法<span class="_ _0"></span>返<span class="_ _6"></span>回<span class="_ _0"></span>一<span class="_ _6"></span>个<span class="_ _6"></span>实<span class="_ _0"></span>例<span class="_ _6"></span>的<span class="_ _0"></span>代<span class="_ _6"></span>码<span class="_ _0"></span>表<span class="_ _6"></span>示<span class="_ _6"></span>形<span class="_ _0"></span>式，<span class="_ _6"></span>通<span class="_ _0"></span>常<span class="_ _6"></span>用<span class="_ _0"></span>来<span class="_ _6"></span>重<span class="_ _6"></span>新<span class="_ _0"></span>构<span class="_ _6"></span>造<span class="_ _0"></span>这<span class="_ _6"></span>个<span class="_ _0"></span>实<span class="_ _6"></span>例。<span class="_ _6"></span>内</span></div><div class="t m0 x5 h9 y1a15 ff1 fs3 fc0 sc0 ls0 ws9ca">置<span class="_ _0"></span>的 <span class="ff6 ws9cb">repr() </span><span class="ls52 ws276">函数返回这个字符串<span class="_ _d"></span>，跟我们使用交互式解释器显示的值是一样的<span class="_ _d"></span>。<span class="_ _d"></span></span></div><div class="t m0 x32 h9 y1a16 ff6 fs3 fc0 sc0 ls0 ws9cc">str<span class="_ _e"> </span>() <span class="ff1 ws22c">方法将实例转换为一个字符串，使用 </span><span class="ws9cd">str() <span class="ff1 ls142">或</span><span class="ws22d">print() <span class="ff1">函数会输出这个字符</span></span></span></div><div class="t m0 x5 h9 y1a17 ff1 fs3 fc0 sc0 ls0">串。比如：</div><div class="t m0 x26 h8 y29 ff2 fs3 fc0 sc0 ls0">231</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
