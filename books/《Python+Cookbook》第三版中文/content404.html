<div id="pf194" class="pf w0 h0" data-page-no="194"><div class="pc pc194 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg194.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hd y112 ff2 fs4 fc4 sc0 ls0 wsd91">12.14<span class="_ _e"> </span>10.14 <span class="ff1 ws165">创建新的 </span><span class="wsce8">Python <span class="ff1">环境</span></span></div><div class="t m0 x5 he y113 ff2 fs2 fc4 sc0 ls0 wsadf">12.14.1 <span class="ff1">问题</span></div><div class="t m0 x0 h7 y2b2 ff1 fs3 fc0 sc0 ls18 wse4e">你想创建一个新的 <span class="ff4 ls0 wsf8">Python <span class="ff1 wsa0">环境，<span class="_ _6"></span>用来安<span class="_ _6"></span>装模块<span class="_ _6"></span>和包。不<span class="_ _6"></span>过，你不<span class="_ _6"></span>想安装<span class="_ _6"></span>一个新<span class="_ _6"></span>的</span></span></div><div class="t m0 x5 h7 y23ec ff4 fs3 fc0 sc0 ls0 ws5c">Python <span class="ff1 ws38">克隆，也不想对系统 </span>Python <span class="ff1">环境产生影响。</span></div><div class="t m0 x5 he y23ed ff2 fs2 fc4 sc0 ls0 wsadf">12.14.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h7 y2938 ff1 fs3 fc0 sc0 ls36 ws525">你可以使用 <span class="ff6 ls0 ws619">pyvenv </span><span class="wse4f">命令创建一个新的“<span class="_ _c"></span>虚拟”环境<span class="_ _c"></span>。这个命令被安装在 <span class="ff4 ls0">Python</span></span></div><div class="t m0 x5 h7 y10b6 ff1 fs3 fc0 sc0 ls0 ws38">解释器同一目录，或 <span class="ff4 wse50">Windo<span class="_ _1"></span>ws <span class="ff1 ws38">上面的 </span><span class="wse51">Scripts <span class="ff1">目录中。下面是一个例子：</span></span></span></div><div class="t m0 x5 hf y2939 ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws4">pyvenv Spam</span></div><div class="t m0 x5 hf y293a ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6">%</span></div><div class="t m0 x0 h7 yb6e ff1 fs3 fc0 sc0 ls0 wse52">传给 <span class="ff6 wse53">pyvenv </span><span class="wsa0">命令的名字是将要被创建的目录名。当被创建后，<span class="_ _c"></span><span class="ff4 wse54">Span <span class="ff1">目录像下面这</span></span></span></div><div class="t m0 x5 h9 y293b ff1 fs3 fc0 sc0 ls0">样：</div><div class="t m0 x5 hf y293c ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws4">cd Spam</span></div><div class="t m0 x5 hf y293d ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span>ls</div><div class="t m0 x5 hf y293e ff8 fs5 fca sc0 ls0 ws158">bin <span class="fc0 ws13b">include lib pyvenv<span class="fc6 ls34">.</span>cfg</span></div><div class="t m0 x5 hf y293f ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6">%</span></div><div class="t m0 x0 h7 y2940 ff1 fs3 fc0 sc0 ls4">在<span class="ff4 ls0 wse55">bin </span><span class="ls0 ws63">目录中，你会找到一个可以使用的 <span class="ff4 ws5c">Python </span>解释器：</span></div><div class="t m0 x5 hf y2717 ff8 fs5 fc0 sc0 ls0 ws13c">bash <span class="fc6 ls32">%</span><span class="ws13a">Spam<span class="fc6 ls34">/</span><span class="fca">bin<span class="fc6 ls34">/</span></span>python3</span></div><div class="t m0 x5 hf y2718 ff8 fs5 fc0 sc0 ls0 ws145">Python <span class="fc7 ws13a">3.3<span class="fc6 ls34">.</span><span class="ls32">0</span></span><span class="ws4">(default, Oct <span class="fc7 ws23d">6 2012</span><span class="ls32">,</span><span class="fc7 ws13a">15</span><span class="ls34">:</span><span class="fc7 ws13a">45</span><span class="ls34">:</span><span class="fc7 ws13a">22</span>)</span></div><div class="t m0 x5 hf y2941 ff8 fs5 fc0 sc0 ls0 ws13c">[GCC <span class="fc7 ws13a">4.2<span class="fc6 ls34">.</span><span class="ls32">1</span></span><span class="ws4">(Apple Inc<span class="fc6 ls33">.</span><span class="ws15f">build <span class="fc7 ws13a">5666</span><span class="ws13b">) (dot <span class="fc7 ls34">3</span>)] on darwin</span></span></span></div><div class="t m0 x5 hf y2942 ff8 fs5 fc0 sc0 ls0 ws13c">Type <span class="fc9 ws13a">&quot;help&quot;</span><span class="ls32">,</span><span class="fc9 ws13a">&quot;copyright&quot;</span><span class="ls33">,</span><span class="fc9 ws23d">&quot;credits&quot; <span class="ff7 fca ws157">or </span><span class="ws1a1">&quot;license&quot; <span class="ff7 fca ws139">for </span></span></span><span class="ws13b">more information<span class="fc6">.</span></span></div><div class="t m0 x5 hf y2943 ff8 fs5 fc6 sc0 ls0 ws1a1">&gt;&gt;&gt; <span class="ff7 fca ws15a">from <span class="fcc ws146">pprint <span class="fca">import </span></span></span><span class="fc0">pprint</span></div><div class="t m0 x5 hf y2944 ff8 fs5 fc6 sc0 ls0 ws1a1">&gt;&gt;&gt; <span class="ff7 fca ws146">import <span class="fcc">sys</span></span></div><div class="t m0 x5 hf y2945 ff8 fs5 fc6 sc0 ls0 ws1a1">&gt;&gt;&gt; <span class="fc0 ws13a">pprint(sys</span><span class="ls34">.</span><span class="fc0">path)</span></div><div class="t m0 x5 hf y2946 ff8 fs5 fc0 sc0 ls34">[<span class="ff9 fc9 ls0 ws13b">&apos;&apos;</span><span class="ls0">,</span></div><div class="t m0 x5 hf y2947 ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/usr/local/lib/python33.zip</span>&apos;<span class="ff8 fc0 ls0">,</span></div><div class="t m0 x5 hf y2948 ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/usr/local/lib/python3.3</span>&apos;<span class="ff8 fc0 ls0">,</span></div><div class="t m0 x5 hf y2949 ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/usr/local/lib/python3.3/plat-darwin</span>&apos;<span class="ff8 fc0 ls0">,</span></div><div class="t m0 x5 hf y294a ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/usr/local/lib/python3.3/lib-dynload</span>&apos;<span class="ff8 fc0 ls0">,</span></div><div class="t m0 x5 hf y294b ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">/Users/beazley/Spam/lib/python3.3/site-packages</span>&apos;<span class="ff8 fc0 ls0">]</span></div><div class="t m0 x5 hf y294c ff8 fs5 fc6 sc0 ls0 ws13a">&gt;&gt;&gt;</div><div class="t m0 x0 h7 y294d ff1 fs3 fc0 sc0 ls0 wse56">这<span class="_ _6"></span>个<span class="_ _6"></span>解<span class="_ _6"></span>释<span class="_ _6"></span>器<span class="_ _6"></span>的<span class="_ _6"></span>特<span class="_ _6"></span>点<span class="_ _6"></span>就<span class="_ _0"></span>是他<span class="_ _6"></span>的 <span class="ff4 wse57">site-packages </span><span class="wsa0">目录<span class="_ _0"></span>被设<span class="_ _6"></span>置<span class="_ _6"></span>为<span class="_ _0"></span>新创<span class="_ _6"></span>建<span class="_ _0"></span>的环<span class="_ _6"></span>境。<span class="_ _6"></span>如<span class="_ _0"></span>果你<span class="_ _6"></span>要</span></div><div class="t m0 x5 h7 y294e ff1 fs3 fc0 sc0 ls0 ws63">安装第三方包，它们会被安装在那里，而不是通常系统的 <span class="ff4 wse58">site-pac<span class="_ _1"></span>kages <span class="ff1">目录。</span></span></div><div class="t m0 x5 he y294f ff2 fs2 fc4 sc0 ls0 wsadf">12.14.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y2950 ff1 fs3 fc0 sc0 ls54 ws1e6">创建虚拟环境通常是为了安装和管理第三方包<span class="_ _8"></span>。正如你在例子中看到的那样<span class="_ _8"></span>，<span class="_ _d"></span></div><div class="t m0 x5 h7 y2951 ff6 fs3 fc0 sc0 ls0 ws507">sys.path <span class="ff1 lse wse59">变量包含来自于系统 </span><span class="ff4 wsec">Python <span class="ff1 wse5a">的目录，<span class="_ _6"></span>而 </span><span class="wse5b">site-pac<span class="_ _1"></span>kages <span class="ff1 lse wsd8">目录已经被重定位到</span></span></span></div><div class="t m0 x5 h9 y2952 ff1 fs3 fc0 sc0 ls0">一个新的目录。</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 wsd97">12.14.<span class="_ _5"> </span>10.14 <span class="ff1 ws16b">创建新的 </span><span class="wscda">Python <span class="ff1 wse5c">环境 </span>395</span></div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
