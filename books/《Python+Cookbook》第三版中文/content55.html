<div id="pf37" class="pf w0 h0" data-page-no="37"><div class="pc pc37 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg37.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">yes<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 hf y1ac ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">else<span class="ff8 fc0">:</span></span></div><div class="t m0 x5 hf y1ad ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">no<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 h10 y1ae ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf y1af ff8 fs5 fc8 sc0 ls0">no</div><div class="t m0 x5 hf y1b0 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y1b1 ff6 fs3 fc0 sc0 ls0 ws2fe">match() <span class="ff1 ls1d ws1c3">总是从字符串开始去匹配<span class="_ _c"></span>，如果你想<span class="_ _6"></span>查找字符串任意部分的模式出现位<span class="_ _c"></span></span></div><div class="t m0 x5 h9 y1b2 ff1 fs3 fc0 sc0 ls0 ws14">置，使用 <span class="ff6 ws1d1">findall() </span>方法去代替。比如：</div><div class="t m0 x5 hf y5db ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13c">text <span class="fc6 ls32">=<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws4">Today is 11/27/2012. PyCon starts 3/13/2013.<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 hf y598 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">datepat<span class="fc6 ls34">.</span>findall(text)</span></div><div class="t m0 x5 hf y599 ff8 fs5 fc8 sc0 ls34">[<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">11/27/2012<span class="ff9 ws13b">&apos;</span><span class="ls33">,</span></span><span class="ff9">&apos;</span><span class="ls0 ws13a">3/13/2013</span><span class="ff9">&apos;</span><span class="ls0">]</span></div><div class="t m0 x5 hf y59a ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y59b ff1 fs3 fc0 sc0 ls0">在定义正则式的时候，通常会利用括号去捕获分组。比如：</div><div class="t m0 x5 hf y35c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws155">datepat <span class="fc6 ls32">=</span><span class="ws13a">re<span class="fc6">.</span>compile(<span class="fc9 ls34">r<span class="ff9">&apos;</span><span class="ls0">(\d+)/(\d+)/(\d+)</span><span class="ff9">&apos;</span></span>)</span></span></div><div class="t m0 x5 hf y35d ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y5dc ff1 fs3 fc0 sc0 ls30 ws138">捕获分组可以使得后面的处理更加简单，因为可以分别将每个组的内容提取出来<span class="_ _c"></span>。</div><div class="t m0 x5 h9 y5dd ff1 fs3 fc0 sc0 ls0">比如：</div><div class="t m0 x5 hf y5de ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">m<span class="fc6 ls33">=</span><span class="ls0 ws13a">datepat<span class="fc6 ls34">.</span>match(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">11/27/2012<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 hf y5df ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">m</span></div><div class="t m0 x5 hf y5e0 ff8 fs5 fc8 sc0 ls0 ws4">&lt;_sre.SRE_Match object at 0x1005d2750&gt;</div><div class="t m0 x5 h11 y5e1 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Extract the contents of each group</span></div><div class="t m0 x5 hf y5e2 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">m<span class="fc6 ls0 ws13a">.<span class="fc0">group(<span class="fc7">0</span>)</span></span></span></div><div class="t m0 x5 hf y5e3 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">11/27/2012<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y5e4 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">m<span class="fc6 ls0 ws13a">.<span class="fc0">group(<span class="fc7">1</span>)</span></span></span></div><div class="t m0 x5 hf y5e5 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">11<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y5e6 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">m<span class="fc6 ls0 ws13a">.<span class="fc0">group(<span class="fc7">2</span>)</span></span></span></div><div class="t m0 x5 hf y5e7 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">27<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y5e8 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">m<span class="fc6 ls0 ws13a">.<span class="fc0">group(<span class="fc7">3</span>)</span></span></span></div><div class="t m0 x5 hf y5e9 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">2012<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y5ea ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">m<span class="fc6 ls0 ws13a">.<span class="fc0">groups()</span></span></span></div><div class="t m0 x5 hf y5eb ff8 fs5 fc8 sc0 ls34">(<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">11</span><span class="ff9">&apos;</span><span class="ls32">,</span><span class="ff9">&apos;</span><span class="ls0 ws13a">27</span><span class="ff9">&apos;</span><span class="ls32">,</span><span class="ff9">&apos;</span><span class="ls0 ws13a">2012</span><span class="ff9">&apos;</span><span class="ls0">)</span></div><div class="t m0 x5 hf y5ec ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13b">month, day, year <span class="fc6 ls33">=</span><span class="ws13a">m<span class="fc6 ls34">.</span>groups()</span></span></div><div class="t m0 x5 hf y5ed ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 h11 y5ee ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Find all matches (notice splitting into tuples)</span></div><div class="t m0 x5 hf y5ef ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">text</span></div><div class="t m0 x5 hf y5f0 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws4">Today is 11/27/2012. PyCon starts 3/13/2013.<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y5f1 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">datepat<span class="fc6 ls34">.</span>findall(text)</span></div><div class="t m0 x5 hf y5f2 ff8 fs5 fc8 sc0 ls0 ws13a">[(<span class="ff9 ls34">&apos;</span>11<span class="ff9 ws13b">&apos;</span><span class="ls33">,<span class="ff9 ls34">&apos;</span></span>27<span class="ff9 ls34">&apos;</span><span class="ls32">,<span class="ff9 ls34">&apos;</span></span>2012<span class="ff9 ls34">&apos;</span><span class="ws13b">), (<span class="ff9 ls34">&apos;<span class="ff8">3</span>&apos;</span><span class="ls32">,<span class="ff9 ls34">&apos;</span></span></span>13<span class="ff9 ls34">&apos;</span><span class="ls32">,<span class="ff9 ls34">&apos;</span></span>2013<span class="ff9 ls34">&apos;</span>)]</div><div class="t m0 x5 hf y5f3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca">for <span class="ff8 fc0 ws13b">month, day, year </span><span class="ws157">in <span class="ff8 fc0 ws13a">datepat<span class="fc6 ls34">.</span>findall(text):</span></span></span></div><div class="t m0 x5 hf y5f4 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">{}-{}-{}<span class="ff9 ls34">&apos;</span><span class="fc6">.</span></span><span class="ws4">format(year, month, day))</span></span></span></div><div class="t m0 x5 h10 y5f5 ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf y5f6 ff8 fs5 fc8 sc0 ls0">2012-11-27</div><div class="t m0 x5 hf y5f7 ff8 fs5 fc8 sc0 ls0">2013-3-13</div><div class="t m0 x5 hf y5f8 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y5f9 ff6 fs3 fc0 sc0 ls0 ws2f8">findall() <span class="ff1 ls82 ws2f9">方法会搜索文本并以列表形式返回所有的匹配。如果你想以迭代方式返</span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">4.4.<span class="_ _5"> </span>2.4 <span class="ff1 ws2fa">字符串匹配和搜索 </span>46</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
