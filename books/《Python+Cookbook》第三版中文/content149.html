<div id="pf95" class="pf w0 h0" data-page-no="95"><div class="pc pc95 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg95.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 he y137 ff2 fs2 fc4 sc0 ls0 ws135">7.3.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y236 ff1 fs3 fc0 sc0 ls10 ws659">当你想使用非空格分隔符来输出数据的时候<span class="_ _1"></span>，给 <span class="ff6 ls0 ws471">print() <span class="ff1 ws65a">函<span class="_ _6"></span>数传<span class="_ _6"></span>递<span class="_ _6"></span>一<span class="_ _6"></span>个 </span><span class="ws196">sep <span class="ff1 wsa0">参数</span></span></span></div><div class="t m0 x5 h9 y237 ff1 fs3 fc0 sc0 ls12 ws65b">是最简单的方案。有时候你会看到一些程序员会<span class="_ _1"></span>使用 <span class="ff6 ls0 ws65c">str.join() </span><span class="wse4">来完成同样的事情。<span class="_ _1"></span></span></div><div class="t m0 x5 h9 y238 ff1 fs3 fc0 sc0 ls0">比如：</div><div class="t m0 x5 hf y239 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;<span class="ff8">,</span><span class="ls0 ws13b">&apos;</span><span class="ff8 fc6">.</span></span>join((<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">ACME<span class="ff9 ls34">&apos;</span></span><span class="ls34">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">50<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">91.5<span class="ff9 ls34">&apos;</span></span>)))</span></span></div><div class="t m0 x5 hf y23a ff8 fs5 fc8 sc0 ls0">ACME,50,91.5</div><div class="t m0 x5 hf y23b ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y1049 ff6 fs3 fc0 sc0 ls0 ws65d">str.join() <span class="ff1 ls10 wsdf">的问题在于它仅仅适用于字符串。这意味着你通常需要执行另外一些<span class="_ _1"></span></span></div><div class="t m0 x5 h9 y104a ff1 fs3 fc0 sc0 ls0">转换才能让它正常工作。比如：</div><div class="t m0 x5 hf y104b ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws158">row <span class="fc6 ls32">=</span><span class="ls34">(<span class="ff9 fc9">&apos;</span></span><span class="fc9 ws13a">ACME<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,</span><span class="fc7 ws13a">50</span><span class="ls33">,</span><span class="fc7 ws13a">91.5</span>)</span></div><div class="t m0 x5 hf y104c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;<span class="ff8">,</span><span class="ls0 ws13b">&apos;</span><span class="ff8 fc6">.</span></span>join(row))</span></span></div><div class="t m0 x5 hf y104d ff8 fs5 fce sc0 ls0 ws4">Traceback (most recent call last):</div><div class="t m0 x15 hf y104e ff8 fs5 fc0 sc0 ls0 ws13c">File <span class="fc9 ws13a">&quot;&lt;stdin&gt;&quot;</span><span class="ws145">, line <span class="fc7 ls34">1</span><span class="ls32">,</span><span class="ff7 fca ws160">in </span><span class="fc6 ws13a">&lt;<span class="fc0">module</span>&gt;</span></span></div><div class="t m0 x5 hf y104f ff8 fs5 fc2 sc0 ls0 ws13a">TypeError<span class="fc0 ws4">: sequence item 1: expected str instance, int found</span></div><div class="t m0 x5 hf y1050 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;<span class="ff8">,</span><span class="ls0 ws13b">&apos;</span><span class="ff8 fc6">.</span></span>join(<span class="fca">str</span><span class="ws158">(x) </span></span><span class="ws139">for <span class="ff8 fc0 ls32">x</span><span class="ws157">in <span class="ff8 fc0">row))</span></span></span></span></div><div class="t m0 x5 hf y1051 ff8 fs5 fc8 sc0 ls0">ACME,50,91.5</div><div class="t m0 x5 hf y1052 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y1053 ff1 fs3 fc0 sc0 ls0">你当然可以不用那么麻烦，仅仅只需要像下面这样写：</div><div class="t m0 x5 hf y1054 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="fc6 ls34">*</span><span class="ws4">row, sep<span class="fc6 ls34">=</span><span class="ff9 fc9 ws13b">&apos;<span class="ff8 ls34">,<span class="ff9">&apos;</span></span></span>)</span></span></span></div><div class="t m0 x5 hf y1055 ff8 fs5 fc8 sc0 ls0">ACME,50,91.5</div><div class="t m0 x5 hf y1056 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 hd y1057 ff2 fs4 fc4 sc0 ls0 ws134">7.4<span class="_ _e"> </span>5.4 <span class="ff1">读写字节数据</span></div><div class="t m0 x5 he y1058 ff2 fs2 fc4 sc0 ls0 ws135">7.4.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y1059 ff1 fs3 fc0 sc0 ls0">你想读写二进制文件，比如图片，声音文件等等。</div><div class="t m0 x5 he y105a ff2 fs2 fc4 sc0 ls0 ws135">7.4.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y105b ff1 fs3 fc0 sc0 ls0 ws38">使用模式为 <span class="ff6 ws308">rb </span><span class="ls4">或</span><span class="ff6 ws308">wb </span><span class="ls5">的</span><span class="ff6 ws3ce">open() </span>函数来读取或写入二进制数据。比如：</div><div class="t m0 x5 h11 y105c ffa fs5 fcd sc0 ls0 ws4"># Read the entire file as a single byte string</div><div class="t m0 x5 hf y105d ff7 fs5 fca sc0 ls0 ws15a">with <span class="ff8 ws13a">open<span class="fc0">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">somefile.bin<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">rb<span class="ff9 ls34">&apos;</span></span><span class="ls32">)</span></span></span><span class="ws157">as <span class="ff8 fc0">f:</span></span></div><div class="t m0 x15 hf y105e ff8 fs5 fc0 sc0 ls0 ws13c">data <span class="fc6 ls32">=</span><span class="ls34">f</span><span class="fc6 ws13a">.</span>read()</div><div class="t m0 x5 h11 y105f ffa fs5 fcd sc0 ls0 ws4"># Write binary data to a file</div><div class="t m0 x5 hf y1060 ff7 fs5 fca sc0 ls0 ws15a">with <span class="ff8 ws13a">open<span class="fc0">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">somefile.bin<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">wb<span class="ff9 ls34">&apos;</span></span><span class="ls32">)</span></span></span><span class="ws157">as <span class="ff8 fc0">f:</span></span></div><div class="t m0 x15 hf y1061 ff8 fs5 fc0 sc0 ls34">f<span class="fc6 ls0 ws13a">.<span class="fc0">write(b</span></span><span class="ff9 fc9">&apos;<span class="ff8 ls0 ws4">Hello World</span>&apos;</span><span class="ls0">)</span></div><div class="t m0 x0 h9 y1062 ff1 fs3 fc0 sc0 ls3a ws153">在读取二进制数据时，需要指明的是所有返回的数据都是字节字符串格式的，而不</div><div class="t m0 x5 h9 y1063 ff1 fs3 fc0 sc0 ls1e ws111">是文本字符串<span class="_ _1"></span>。类似的，在写入的时<span class="_ _1"></span>候，必须保证参数是以字节形式对外暴露数<span class="_ _1"></span>据的</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">7.4.<span class="_ _5"> </span>5.4 <span class="ff1 ws64b">读写字节数据 </span>140</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
