<div id="pf179" class="pf w0 h0" data-page-no="179"><div class="pc pc179 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg179.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 h11 y334 ffa fs5 fcd sc0 ls0 ws4"># mymodule.py</div><div class="t m0 x5 hf y335 ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ls34">A</span><span class="ff8 fc0">:</span></div><div class="t m0 x15 hf y336 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">spam<span class="fc0">(<span class="fca">self</span>):</span></span></div><div class="t m0 x16 hf y337 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">A.spam</span>&apos;</span><span class="ls0">)</span></span></div><div class="t m0 x5 hf yade ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ls34">B</span><span class="ff8 fc0">(A):</span></div><div class="t m0 x15 hf yadf ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">bar<span class="fc0 ls34">(</span><span class="fca">self<span class="fc0">):</span></span></span></div><div class="t m0 x16 hf yc64 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">B.bar<span class="ff9 ws13b">&apos;</span><span class="fc0">)</span></span></span></span></div><div class="t m0 x0 h7 y26d4 ff1 fs3 fc0 sc0 ls0 wsd28">假<span class="_ _6"></span>设<span class="_ _6"></span>你想 <span class="ff4 wsd29">mymodule.py </span><span class="ls48 ws242">分为两个文件<span class="_ _c"></span>，每个定义的一个类。要做到这一点<span class="_ _1"></span>，首先<span class="_ _1"></span></span></div><div class="t m0 x5 h7 y253f ff1 fs3 fc0 sc0 ls4">用<span class="ff4 ls0 wsd2a">m<span class="_ _1"></span>ymo<span class="_ _6"></span>dule <span class="ff1 ws38">目录来替换文件 </span><span class="wsa5">m<span class="_ _1"></span>ymo<span class="_ _6"></span>dule.py<span class="ff1">。这这个目录下，创建以下文件：</span></span></span></div><div class="t m0 x5 hf y26d5 ff8 fs5 fc0 sc0 ls0 ws13a">mymodule<span class="fc6">/</span></div><div class="t m0 x15 hf y26d6 ff8 fs5 fc0 sc0 ls0 ws13a">__init__<span class="fc6">.</span>py</div><div class="t m0 x15 hf y26d7 ff8 fs5 fc0 sc0 ls34">a<span class="fc6 ls0 ws13a">.<span class="fc0">py</span></span></div><div class="t m0 x15 hf y26d8 ff8 fs5 fc0 sc0 ls34">b<span class="fc6 ls0 ws13a">.<span class="fc0">py</span></span></div><div class="t m0 x0 h7 y520 ff1 fs3 fc0 sc0 ls4">在<span class="ff4 ls0 wsd2b">a.p<span class="_ _1"></span>y <span class="ff1">文件中插入以下代码：</span></span></div><div class="t m0 x5 h11 y22cc ffa fs5 fcd sc0 ls0 ws4"># a.py</div><div class="t m0 x5 hf y22cd ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ls34">A</span><span class="ff8 fc0">:</span></div><div class="t m0 x15 hf y26d9 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">spam<span class="fc0">(<span class="fca">self</span>):</span></span></div><div class="t m0 x16 hf y26da ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">A.spam</span>&apos;</span><span class="ls0">)</span></span></div><div class="t m0 x0 h7 y26db ff1 fs3 fc0 sc0 ls4">在<span class="ff4 ls0 wsd2c">b.p<span class="_ _1"></span>y <span class="ff1">文件中插入以下代码：</span></span></div><div class="t m0 x5 h11 y26dc ffa fs5 fcd sc0 ls0 ws4"># b.py</div><div class="t m0 x5 hf y26dd ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ws157">.a </span><span class="ws146">import <span class="ff8 fc0">A</span></span></div><div class="t m0 x5 hf y26de ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ls34">B</span><span class="ff8 fc0">(A):</span></div><div class="t m0 x15 hf y26df ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">bar<span class="fc0 ls34">(</span><span class="fca">self<span class="fc0">):</span></span></span></div><div class="t m0 x16 hf y26e0 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ls34">(<span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">B.bar<span class="ff9 ws13b">&apos;</span><span class="fc0">)</span></span></span></span></div><div class="t m0 x0 h7 y26e1 ff1 fs3 fc0 sc0 ls0 ws9d6">最后，在 <span class="ff4 wscf0">init<span class="_ _e"> </span>.p<span class="_ _1"></span>y <span class="ff1 ws38">中，将 </span><span class="ls39">2</span><span class="ff1">个文件粘合在一起：</span></span></div><div class="t m0 x5 h11 y26e2 ffa fs5 fcd sc0 ls0 ws4"># __init__.py</div><div class="t m0 x5 hf y26e3 ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ws157">.a </span><span class="ws146">import <span class="ff8 fc0">A</span></span></div><div class="t m0 x5 hf y26e4 ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ws157">.b </span><span class="ws146">import <span class="ff8 fc0">B</span></span></div><div class="t m0 x0 h7 y26e5 ff1 fs3 fc0 sc0 ls0 ws14">如果按照这些步骤，所产生的包 <span class="ff4 wsd2d">MyMo<span class="_ _6"></span>dule </span>将作为一个单一的逻辑模块：</div><div class="t m0 x5 h10 y26e6 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">mymodule</span></span></div><div class="t m0 x5 hf y26e7 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=</span><span class="ls0 ws13a">mymodule<span class="fc6">.</span>A()</span></span></div><div class="t m0 x5 hf y26e8 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">a<span class="fc6 ls0 ws13a">.<span class="fc0">spam()</span></span></span></div><div class="t m0 x5 hf y26e9 ff8 fs5 fc8 sc0 ls0">A.spam</div><div class="t m0 x5 hf y26ea ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">b<span class="fc6 ls33">=</span><span class="ls0 ws13a">mymodule<span class="fc6">.</span>B()</span></span></div><div class="t m0 x5 hf y26eb ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">b<span class="fc6 ls0 ws13a">.<span class="fc0">bar()</span></span></span></div><div class="t m0 x5 hf y18ba ff8 fs5 fc8 sc0 ls0">B.bar</div><div class="t m0 x5 hf y26ec ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">12.4.<span class="_ _5"> </span>10.4 <span class="ff1 ws509">将模块分割成多个文件 </span>368</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
