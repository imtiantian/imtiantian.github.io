<div id="pf36" class="pf w0 h0" data-page-no="36"><div class="pc pc36 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg36.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 he y137 ff2 fs2 fc4 sc0 ls0 ws135">4.4.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y236 ff1 fs3 fc0 sc0 ls3a ws153">如果你想匹配的是字面字符串，那么你通常只需要调用基本字符串方法就行，比如</div><div class="t m0 x5 h7 y237 ff6 fs3 fc0 sc0 ls0 ws17c">str.find() <span class="ff4 ls83">,</span><span class="ws2dc">str.endswith() <span class="ff4 ls83">,</span><span class="ws2fb">str.startswith() <span class="ff1">或者类似的方法：</span></span></span></div><div class="t m0 x5 hf y5b1 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13c">text <span class="fc6 ls32">=<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws4">yeah, but no, but yeah, but no, but yeah<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 h11 y5b2 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws13b"># Exact match</span></div><div class="t m0 x5 hf y5b3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13c">text <span class="fc6 ws159">== <span class="ff9 fc9 ws13b">&apos;<span class="ff8 ws13a">yeah</span>&apos;</span></span></span></div><div class="t m0 x5 hf y5b4 ff8 fs5 fc8 sc0 ls0">False</div><div class="t m0 x5 h11 y5b5 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Match at start or end</span></div><div class="t m0 x5 hf y5b6 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">text<span class="fc6 ls34">.</span>startswith(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">yeah<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y5b7 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y5b8 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">text<span class="fc6 ls34">.</span>endswith(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">no<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y5b9 ff8 fs5 fc8 sc0 ls0">False</div><div class="t m0 x5 h11 y5ba ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Search for the location of the first occurrence</span></div><div class="t m0 x5 hf y5bb ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">text<span class="fc6 ls34">.</span>find(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">no<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y5bc ff8 fs5 fc8 sc0 ls0">10</div><div class="t m0 x5 hf y5bd ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y5be ff1 fs3 fc0 sc0 ls0 ws2fc">对于复杂的匹配需要使用正则表达式和 <span class="ff6 ws2fd">re </span><span class="wsa0">模块。<span class="_ _1"></span>为了解释正则表达式的基本原理，</span></div><div class="t m0 x5 h9 y5bf ff1 fs3 fc0 sc0 ls0 ws14">假设你想匹配数字格式的日期字符串比如 <span class="ff6 ws17c">11/27/2012 </span>，你可以这样做：</div><div class="t m0 x5 hf y5c0 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws15f">text1 <span class="fc6 ls33">=</span><span class="ff9 fc9 ws13b">&apos;<span class="ff8 ws13a">11/27/2012</span>&apos;</span></span></div><div class="t m0 x5 hf y5c1 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws15f">text2 <span class="fc6 ls33">=</span><span class="ff9 fc9 ws13b">&apos;<span class="ff8 ws4">Nov 27, 2012</span>&apos;</span></span></div><div class="t m0 x5 hf y5c2 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 h10 y41b ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">re</span></span></div><div class="t m0 x5 h11 y5c3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Simple matching: \d+ means match one or more digits</span></div><div class="t m0 x5 hf y5c4 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws157">if <span class="ff8 fc0 ws13a">re<span class="fc6">.</span>match(<span class="fc9">r<span class="ff9 ls34">&apos;</span>\d+/\d+/\d+<span class="ff9 ls34">&apos;</span></span><span class="ws13b">, text1):</span></span></span></div><div class="t m0 x5 hf y5c5 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">yes<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 hf y5c6 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">else<span class="ff8 fc0">:</span></span></div><div class="t m0 x5 hf y5c7 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">no<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 h10 y5c8 ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf y5c9 ff8 fs5 fc8 sc0 ls0">yes</div><div class="t m0 x5 hf y5ca ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws157">if <span class="ff8 fc0 ws13a">re<span class="fc6">.</span>match(<span class="fc9">r<span class="ff9 ls34">&apos;</span>\d+/\d+/\d+<span class="ff9 ls34">&apos;</span></span><span class="ws13b">, text2):</span></span></span></div><div class="t m0 x5 hf y5cb ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">yes<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 hf y5cc ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">else<span class="ff8 fc0">:</span></span></div><div class="t m0 x5 hf y5cd ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">no<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 h10 y5ce ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf y5cf ff8 fs5 fc8 sc0 ls0">no</div><div class="t m0 x5 hf y5d0 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y5d1 ff1 fs3 fc0 sc0 ls63 ws21f">如果你想使用同一个模式去做多次匹配<span class="_ _c"></span>，你应该先将模式字符串预编译为模式对<span class="_ _1"></span></div><div class="t m0 x5 h9 y5d2 ff1 fs3 fc0 sc0 ls0">象。比如：</div><div class="t m0 x5 hf y5d3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws155">datepat <span class="fc6 ls32">=</span><span class="ws13a">re<span class="fc6">.</span>compile(<span class="fc9 ls34">r<span class="ff9">&apos;</span><span class="ls0">\d+/\d+/\d+<span class="ff9 ws13b">&apos;</span></span></span>)</span></span></div><div class="t m0 x5 hf y5d4 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws157">if <span class="ff8 fc0 ws13a">datepat<span class="fc6 ls34">.</span>match(text1):</span></span></div><div class="t m0 x5 hf y5d5 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">yes<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 hf y5d6 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">else<span class="ff8 fc0">:</span></span></div><div class="t m0 x5 hf y5d7 ff7 fs5 fc5 sc0 ls0 ws139">... <span class="fca ws156">print<span class="ff8 fc0 ws13a">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">no<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 h10 y5d8 ff7 fs5 fc5 sc0 ls0">...</div><div class="t m0 x5 hf y5d9 ff8 fs5 fc8 sc0 ls0">yes</div><div class="t m0 x5 hf y5da ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws157">if <span class="ff8 fc0 ws13a">datepat<span class="fc6 ls34">.</span>match(text2):</span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">4.4.<span class="_ _5"> </span>2.4 <span class="ff1 ws2fa">字符串匹配和搜索 </span>45</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
