<div id="pf5f" class="pf w0 h0" data-page-no="5f"><div class="pc pc5f w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg5f.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">format(<span class="fc6 ls34">-</span><span class="ws159">x, <span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">0.1f<span class="ff9 ws13b">&apos;</span></span>)</span></div><div class="t m0 x5 hf y1ac ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">-1234.6<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y1ad ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y2f1 ff1 fs3 fc0 sc0 ls56 ws1fa">包含千位符的格式化跟本地化没有关系<span class="_ _c"></span>。如果你需要根据地区来显示千位符<span class="_ _1"></span>，你<span class="_ _1"></span></div><div class="t m0 x5 h9 y2f2 ff1 fs3 fc0 sc0 ls0 ws495">需要自己去调查下 <span class="ff6 ws496">locale </span><span class="ws497">模块中的函数了。你同样也可以使用字符串的 <span class="ff6">translate()</span></span></div><div class="t m0 x5 h9 ya86 ff1 fs3 fc0 sc0 ls0">方法来交换千位符。比如：</div><div class="t m0 x5 hf ya87 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws151">swap_separators <span class="fc6 ls32">=<span class="fc0">{</span></span><span class="fca ws13a">ord<span class="fc0">(<span class="ff9 fc9 ls34">&apos;<span class="ff8">.</span>&apos;</span>):<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">,<span class="ff9 ls34">&apos;</span></span><span class="ls33">,</span></span>ord</span><span class="ls34">(</span><span class="ff9 fc9 ws13b">&apos;<span class="ff8 ls34">,<span class="ff9">&apos;</span></span></span><span class="ws13a">):<span class="ff9 fc9 ls34">&apos;<span class="ff8">.</span><span class="ls32">&apos;</span></span>}</span></span></div><div class="t m0 x5 hf ya88 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws16e">format(x, <span class="ff9 fc9 ls34">&apos;<span class="ff8">,</span><span class="ls0 ws13b">&apos;</span></span><span class="ls34">)<span class="fc6">.</span></span>translate(swap_separators)</span></div><div class="t m0 x5 hf ya89 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">1.234,56789<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf ya8a ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 ya8b ff1 fs3 fc0 sc0 ls0 ws38">在很多 <span class="ff4 ws5c">Python </span><span class="wsa0">代码中会看到使用<span class="ff4 lsd2">%</span>来格式化数字的，比如：</span></div><div class="t m0 x5 hf ya8c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ls34">&apos;</span><span class="ffa fcf ws13a">%0.2f<span class="ff9 fc9 ls33">&apos;<span class="ff8 fc6 ls32">%<span class="fc0 ls0">x</span></span></span></span></div><div class="t m0 x5 hf ya8d ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">1234.57<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf ya8e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ls34">&apos;</span><span class="ffa fcf ws13a">%10.1f<span class="ff9 fc9 ls32">&apos;<span class="ff8 fc6 ls33">%<span class="fc0 ls0">x</span></span></span></span></div><div class="t m0 x5 hf y59d ff9 fs5 fc8 sc0 ls9c">&apos;<span class="ff8 ls0 ws13a">1234.6<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y59e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ls34">&apos;</span><span class="ffa fcf ws13a">%-10.1f<span class="ff9 fc9 ls32">&apos;<span class="ff8 fc6 ls33">%<span class="fc0 ls0">x</span></span></span></span></div><div class="t m0 x5 hf y59f ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws488">1234.6 <span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y5a0 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 ya8f ff1 fs3 fc0 sc0 ls3d ws498">这种格式化方法也是可行的，不过比更加先进的 <span class="ff6 ls0 ws2c3">format() <span class="ff1 wsa0">要差一<span class="_ _6"></span>点。比<span class="_ _6"></span>如，在使</span></span></div><div class="t m0 x5 h7 ya90 ff1 fs3 fc0 sc0 lsb">用<span class="ff4 lsd2">%</span><span class="ls0 ws14">操作符格式化数字的时候，一些特性 <span class="ff4 wsa5">(</span><span class="wsa0">添加千位符<span class="ff4 ls6a">)</span>并不能被支持。</span></span></div><div class="t m0 x5 hd ya91 ff2 fs4 fc4 sc0 ls0 ws134">5.4<span class="_ _e"> </span>3.4 <span class="ff1">二八十六进制整数</span></div><div class="t m0 x5 he ya92 ff2 fs2 fc4 sc0 ls0 ws135">5.4.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 ya93 ff1 fs3 fc0 sc0 ls0">你需要转换或者输出使用二进制，八进制或十六进制表示的整数。</div><div class="t m0 x5 he ya94 ff2 fs2 fc4 sc0 ls0 ws135">5.4.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h7 ya95 ff1 fs3 fc0 sc0 ls98 ws499">为了将整数转换为二进制<span class="_ _c"></span>、八进制或十六进制的文本串<span class="_ _c"></span>，可以分别使用 <span class="ff6 ls0 ws49a">bin() <span class="ff4">,</span></span></div><div class="t m0 x5 h9 ya96 ff6 fs3 fc0 sc0 ls0 ws17d">oct() <span class="ff1 ls4">或</span><span class="ws19e">hex() <span class="ff1">函数：</span></span></div><div class="t m0 x5 hf ya97 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">x<span class="fc6 ls33">=<span class="fc7 ls0">1234</span></span></span></div><div class="t m0 x5 hf ya98 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">bin<span class="fc0">(x)</span></span></div><div class="t m0 x5 hf ya99 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">0b10011010010<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf ya9a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">oct<span class="fc0">(x)</span></span></div><div class="t m0 x5 hf ya9b ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">0o2322<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf ya9c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">hex<span class="fc0">(x)</span></span></div><div class="t m0 x5 hf ya9d ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">0x4d2<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf ya9e ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 ya9f ff1 fs3 fc0 sc0 ls0 ws49b">另外，如果你不想输出 <span class="ff6 ws49c">0b <span class="ff4 ls83">,</span>0o </span><span class="ws49d">或者 <span class="ff6 ws49c">0x </span>的前缀的话，可以使用 <span class="ff6 ws49e">format() </span>函数。比</span></div><div class="t m0 x5 h9 yaa0 ff1 fs3 fc0 sc0 ls0">如：</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">5.4.<span class="_ _5"> </span>3.4 <span class="ff1 ws2fa">二八十六进制整数 </span>86</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
