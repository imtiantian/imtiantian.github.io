<div id="pffb" class="pf w0 h0" data-page-no="fb"><div class="pc pcfb w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bgfb.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">c<span class="fc6 ls33">=</span><span class="ls0 ws13a">Circle(<span class="fc7">4.0</span>)</span></span></div><div class="t m0 x5 hf y1ac ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">c<span class="fc6 ls0 ws13a">.<span class="fc0">radius</span></span></span></div><div class="t m0 x5 hf y1ad ff8 fs5 fc8 sc0 ls0">4.0</div><div class="t m0 x5 hf y1ae ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">c<span class="fc6 ls0 ws13a">.<span class="fc0 wsa68">area <span class="ffa fcd ws4"># Notice lack of ()</span></span></span></span></div><div class="t m0 x5 hf y1af ff8 fs5 fc8 sc0 ls0">50.26548245743669</div><div class="t m0 x5 hf y1b0 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">c<span class="fc6 ls0 ws13a">.<span class="fc0 wsa69">perimeter <span class="ffa fcd ws4"># Notice lack of ()</span></span></span></span></div><div class="t m0 x5 hf y355 ff8 fs5 fc8 sc0 ls0">25.132741228718345</div><div class="t m0 x5 hf y410 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 y46e ff1 fs3 fc0 sc0 ls0 wsa6a">尽管 <span class="ff4 wsa6b">prop<span class="_ _6"></span>erties </span><span class="lse wsa6c">可以实现优雅的编程接口，但有些时候你还是会想直接使用 </span><span class="ff4">getter</span></div><div class="t m0 x5 h7 y46f ff1 fs3 fc0 sc0 ls4">和<span class="ff4 ls0 ws963">setter <span class="ff1">函数。例如：</span></span></div><div class="t m0 x5 hf y599 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">p<span class="fc6 ls33">=</span><span class="ls0 ws13a">Person(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">Guido<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x5 hf y59a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">p<span class="fc6 ls0 ws13a">.<span class="fc0">get_first_name()</span></span></span></div><div class="t m0 x5 hf y4f2 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">Guido<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y4f3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">p<span class="fc6 ls0 ws13a">.<span class="fc0">set_first_name(</span></span><span class="ff9 fc9">&apos;<span class="ff8 ls0 ws13a">Larry<span class="ff9 ws13b">&apos;</span><span class="fc0">)</span></span></span></span></div><div class="t m0 x5 hf y4f4 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 y14d5 ff1 fs3 fc0 sc0 lsc8 wsa6d">这种情况的出现通常是因为 <span class="ff4 ls0 wsa6e">Python </span><span class="wsa6f">代码被集成到一个大型基础平台架构或程序<span class="_ _c"></span></span></div><div class="t m0 x5 h7 y1b2b ff1 fs3 fc0 sc0 ls0 wsa70">中。例如，<span class="_ _1"></span>有可能是一个 <span class="ff4 ws12b">Python </span>类准备加入到一个基于远程过程调用的大型分布式系</div><div class="t m0 x5 h7 y1b2c ff1 fs3 fc0 sc0 lse wsa71">统中。这种情况下<span class="_ _1"></span>，直接使用 <span class="ff4 ls0 wsa72">get/set <span class="ff1 ws585">方<span class="_ _6"></span>法 </span><span class="ls1b">(</span><span class="ff1 wsa0">普通<span class="_ _6"></span>方法调<span class="_ _6"></span>用</span><span class="lsea">)</span></span><span class="wsa73">而不是 <span class="ff4 ls0 wsa74">prop<span class="_ _6"></span>ert<span class="_ _1"></span>y <span class="ff1 lse wsd8">或许会更</span></span></span></div><div class="t m0 x5 h9 y1b2d ff1 fs3 fc0 sc0 ls0">容易兼容。</div><div class="t m0 x0 h7 y1b2e ff1 fs3 fc0 sc0 ls0 ws38">最后一点，不要像下面这样写有大量重复代码的 <span class="ff4 wsa75">prop<span class="_ _6"></span>ert<span class="_ _1"></span>y <span class="ff1">定义：</span></span></div><div class="t m0 x5 hf y1b2f ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ws156">Person<span class="ff8 fc0">:</span></span></div><div class="t m0 x15 hf y1b30 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">__init__<span class="fc0">(<span class="fca">self</span><span class="ws4">, first_name, last_name):</span></span></span></div><div class="t m0 x16 hf y1b31 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ws2a3">first_name </span><span class="ls33">=</span><span class="fc0">first_name</span></span></div><div class="t m0 x16 hf y1b32 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ws51e">last_name </span><span class="ls32">=</span><span class="fc0">last_name</span></span></div><div class="t m0 x15 h10 y1b33 ff7 fs5 fc12 sc0 ls0">@property</div><div class="t m0 x15 hf y1b34 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">first_name<span class="fc0 ls34">(</span><span class="fca">self<span class="fc0">):</span></span></span></div><div class="t m0 x16 hf y1b35 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 ws13a">self<span class="fc6 ls34">.</span><span class="fc0">_first_name</span></span></div><div class="t m0 x15 h10 y1b36 ff7 fs5 fc12 sc0 ls0">@first_name.setter</div><div class="t m0 x15 hf y1657 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">first_name<span class="fc0 ls34">(</span><span class="fca">self<span class="fc0 ws13b">, value):</span></span></span></div><div class="t m0 x16 hf y1b37 ff7 fs5 fca sc0 ls0 ws157">if not <span class="ff8 ws13a">isinstance<span class="fc0 ws155">(value, </span>str<span class="fc0">):</span></span></div><div class="t m0 x17 hf y1b38 ff7 fs5 fca sc0 ls0 ws16a">raise <span class="ff8 ws13a">TypeError<span class="fc0">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9 ws4">Expected a string<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x16 hf y1b39 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ws208">_first_name </span><span class="ls33">=</span><span class="fc0">value</span></span></div><div class="t m0 x15 h11 y1b3a ffa fs5 fcd sc0 ls0 ws4"># Repeated property code, but for a different name (bad!)</div><div class="t m0 x15 h10 y1b3b ff7 fs5 fc12 sc0 ls0">@property</div><div class="t m0 x15 hf y1b3c ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">last_name<span class="fc0 ls34">(</span><span class="fca">self<span class="fc0">):</span></span></span></div><div class="t m0 x16 hf y1b3d ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 ws13a">self<span class="fc6 ls34">.</span><span class="fc0">_last_name</span></span></div><div class="t m0 x15 h10 y1b3e ff7 fs5 fc12 sc0 ls0">@last_name.setter</div><div class="t m0 x15 hf y1b3f ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">last_name<span class="fc0 ls34">(</span><span class="fca">self<span class="fc0 ws13b">, value):</span></span></span></div><div class="t m0 x16 hf y1b40 ff7 fs5 fca sc0 ls0 ws157">if not <span class="ff8 ws13a">isinstance<span class="fc0 ws155">(value, </span>str<span class="fc0">):</span></span></div><div class="t m0 x17 hf y1b41 ff7 fs5 fca sc0 ls0 ws16a">raise <span class="ff8 ws13a">TypeError<span class="fc0">(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9 ws4">Expected a string<span class="ff9 ls34">&apos;</span></span>)</span></span></div><div class="t m0 x16 hf y1b42 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ws2a3">_last_name </span><span class="ls33">=</span><span class="fc0">value</span></span></div><div class="t m0 x0 h9 y1b43 ff1 fs3 fc0 sc0 ls0 wsa0">重复<span class="_ _6"></span>代<span class="_ _6"></span>码<span class="_ _6"></span>会导<span class="_ _6"></span>致<span class="_ _6"></span>臃肿、<span class="_ _6"></span>易<span class="_ _6"></span>出<span class="_ _6"></span>错和<span class="_ _6"></span>丑<span class="_ _6"></span>陋的<span class="_ _6"></span>程<span class="_ _6"></span>序。<span class="_ _6"></span>好消<span class="_ _6"></span>息<span class="_ _6"></span>是，<span class="_ _6"></span>通过<span class="_ _6"></span>使<span class="_ _6"></span>用装<span class="_ _6"></span>饰<span class="_ _6"></span>器<span class="_ _6"></span>或闭<span class="_ _6"></span>包，</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws9da">10.6.<span class="_ _5"> </span>8.6 <span class="ff1 ws2a4">创建可管理的属性 </span>242</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
