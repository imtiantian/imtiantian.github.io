<div id="pf11c" class="pf w0 h0" data-page-no="11c"><div class="pc pc11c w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg11c.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 h10 yb1e ff7 fs5 fca sc0 ls0 ws146">import <span class="fcc">time</span></div><div class="t m0 x5 hf yb20 ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ws156">Date<span class="ff8 fc0">:</span></span></div><div class="t m0 x15 h12 yb21 ffa fs5 fc9 sc0 ls0 ws158">&quot;&quot;&quot; <span class="ffc fs6 ws3d4">方法一：使用类方法</span>&quot;&quot;&quot;</div><div class="t m0 x15 h11 yb22 ffa fs5 fcd sc0 ls0 ws13b"># Primary constructor</div><div class="t m0 x15 hf yb23 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">__init__<span class="fc0">(<span class="fca">self</span><span class="ws4">, year, month, day):</span></span></span></div><div class="t m0 x16 hf yb24 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ws13c">year </span><span class="ls33">=</span><span class="fc0">year</span></span></div><div class="t m0 x16 hf yb25 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ws458">month </span><span class="ls32">=</span><span class="fc0">month</span></span></div><div class="t m0 x16 hf yb26 ff8 fs5 fca sc0 ls0 ws13a">self<span class="fc6">.<span class="fc0 ws158">day </span><span class="ls33">=</span><span class="fc0">day</span></span></div><div class="t m0 x15 h11 yfda ffa fs5 fcd sc0 ls0 ws13b"># Alternate constructor</div><div class="t m0 x15 h10 y1e41 ff7 fs5 fc12 sc0 ls0">@classmethod</div><div class="t m0 x15 hf y1e42 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">today<span class="fc0">(cls):</span></span></div><div class="t m0 x16 hf y1e43 ff8 fs5 fc0 sc0 ls32">t<span class="fc6 ls33">=</span><span class="ls0 ws13a">time<span class="fc6">.</span>localtime()</span></div><div class="t m0 x16 hf y1e44 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 fc0 ws13a">cls(t<span class="fc6">.</span><span class="ws4">tm_year, t</span><span class="fc6">.</span><span class="ws4">tm_mon, t<span class="fc6 ls34">.</span>tm_mday)</span></span></div><div class="t m0 x0 h9 y1e45 ff1 fs3 fc0 sc0 ls0">直接调用类方法即可，下面是使用示例：</div><div class="t m0 x5 hf y1e46 ff8 fs5 fc0 sc0 ls32">a<span class="fc6 ls33">=</span><span class="ls0 ws13a">Date(<span class="fc7">2012</span><span class="ls33">,</span><span class="fc7">12</span><span class="ls33">,</span><span class="fc7">21</span><span class="ls33">)</span><span class="ffa fcd ws13b"># Primary</span></span></div><div class="t m0 x5 hf y1e47 ff8 fs5 fc0 sc0 ls32">b<span class="fc6 ls33">=</span><span class="ls0 ws13a">Date<span class="fc6 ls34">.</span><span class="ws1f4">today() <span class="ffa fcd ws4"># Alternate</span></span></span></div><div class="t m0 x5 he y109c ff2 fs2 fc4 sc0 ls0 wsadf">10.16.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y1e48 ff1 fs3 fc0 sc0 ls14 wsb2c">类方法的一个主要用途就是定义多个构造器<span class="_ _1"></span>。它接受一个 <span class="ff6 ls0 ws177">class </span><span class="ws174">作为第一个参数</span></div><div class="t m0 x5 h7 ye60 ff4 fs3 fc0 sc0 ls0 wsa5">(cls)<span class="ff1 ls49 ws1a6">。你应该注意到了这个类被用来创建并返回最终的实例<span class="_ _1"></span>。在继承时也能工作的很<span class="_ _1"></span></span></div><div class="t m0 x5 h9 y1e49 ff1 fs3 fc0 sc0 ls0">好：</div><div class="t m0 x5 hf y1e4a ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ws156">NewDate<span class="ff8 fc0">(Date):</span></span></div><div class="t m0 x15 h10 y1e4b ff7 fs5 fca sc0 ls0">pass</div><div class="t m0 x5 hf y1e4c ff8 fs5 fc0 sc0 ls32">c<span class="fc6 ls33">=</span><span class="ls0 ws13a">Date<span class="fc6 ls34">.</span><span class="ws1f4">today() <span class="ffa fcd ws4"># Creates an instance of Date (cls=Date)</span></span></span></div><div class="t m0 x5 hf y1e4d ff8 fs5 fc0 sc0 ls32">d<span class="fc6 ls33">=</span><span class="ls0 ws13a">NewDate<span class="fc6 ls34">.</span><span class="ws155">today() <span class="ffa fcd ws4"># Creates an instance of NewDate (cls=NewDate)</span></span></span></div><div class="t m0 x5 hd y73e ff2 fs4 fc4 sc0 ls0 ws211">10.17<span class="_ _e"> </span>8.17 <span class="ff1 ws357">创建不调用 </span><span class="wsb2d">init <span class="ff1">方法的实例</span></span></div><div class="t m0 x5 he y1e4e ff2 fs2 fc4 sc0 ls0 wsadf">10.17.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y1e4f ff1 fs3 fc0 sc0 ls0 ws911">你想创建一个实例，但是希望绕过执行 <span class="ff6 ws308">init<span class="_ _e"> </span>() </span>方法。</div><div class="t m0 x5 he y1e50 ff2 fs2 fc4 sc0 ls0 wsadf">10.17.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y1b27 ff1 fs3 fc0 sc0 ls0 ws9d6">可以通过 <span class="ff6 ws308">new<span class="_ _e"> </span>() </span>方法创建一个未初始化的实例。例如考虑如下这个类：</div><div class="t m0 x5 hf y1e51 ff7 fs5 fca sc0 ls0 ws16a">class <span class="fcc ws156">Date<span class="ff8 fc0">:</span></span></div><div class="t m0 x15 hf y1e52 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">__init__<span class="fc0">(<span class="fca">self</span><span class="ws4">, year, month, day):</span></span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 wsae0">10.17.<span class="_ _5"> </span>8.17 <span class="ff1 ws7da">创建不调用 </span><span class="wsb2e">init <span class="ff1 wsb2f">方法的实例 </span>275</span></div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
