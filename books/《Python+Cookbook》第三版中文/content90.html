<div id="pf5a" class="pf w0 h0" data-page-no="5a"><div class="pc pc5a w0 h0"><img class="bi x13 y5 w2 hb" alt="" src="bg5a.png"/><div class="t m0 xe h8 y76 ff2 fs3 fc0 sc0 ls0">CHAPTER</div><div class="t m0 x22 hc y77 ff2 fs4 fc0 sc0 ls0">FIVE</div><div class="t m0 x14 hd y78 ff1 fs4 fc0 sc0 ls0">第三章：数字日期和时间</div><div class="t m0 x0 h7 y79 ff1 fs3 fc0 sc0 lsc9">在<span class="ff4 ls0 wsf8">Python </span><span class="ls18 ws110">中执行整数和浮点数的数学运算时很简单的。尽管如此，如果你需要执<span class="_ _1"></span></span></div><div class="t m0 x5 h9 ycf ff1 fs3 fc0 sc0 ls1e ws111">行分数<span class="_ _1"></span>、数组或者是日期和时间的运算的话<span class="_ _1"></span>，就得做更多的工作了。本章集中讨<span class="_ _1"></span>论的</div><div class="t m0 x5 h9 yd0 ff1 fs3 fc0 sc0 ls0">就是这些主题。</div><div class="t m0 x0 h7 y9fe ff4 fs3 fc0 sc0 ls0 wsa5">Con<span class="_ _1"></span>ten<span class="_ _1"></span>ts:</div><div class="t m0 x5 hd y9ff ff2 fs4 fc4 sc0 ls0 ws134">5.1<span class="_ _e"> </span>3.1 <span class="ff1">数字的四舍五入</span></div><div class="t m0 x5 he ya00 ff2 fs2 fc4 sc0 ls0 ws135">5.1.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 ya01 ff1 fs3 fc0 sc0 ls0">你想对浮点数执行指定精度的舍入运算。</div><div class="t m0 x5 he ya02 ff2 fs2 fc4 sc0 ls0 ws135">5.1.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 ya03 ff1 fs3 fc0 sc0 ls0 ws38">对于简单的舍入运算，使用内置的 <span class="ff6 ws270">round(value,<span class="_ _11"> </span>ndigits) </span>函数即可。比如：</div><div class="t m0 x5 hf ya04 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">round<span class="fc0">(<span class="fc7">1.23</span><span class="ls33">,</span><span class="fc7">1</span>)</span></span></div><div class="t m0 x5 hf ya05 ff8 fs5 fc8 sc0 ls0">1.2</div><div class="t m0 x5 hf ya06 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">round<span class="fc0">(<span class="fc7">1.27</span><span class="ls33">,</span><span class="fc7">1</span>)</span></span></div><div class="t m0 x5 hf ya07 ff8 fs5 fc8 sc0 ls0">1.3</div><div class="t m0 x5 hf y984 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">round<span class="fc0">(<span class="fc6 ls34">-</span><span class="fc7">1.27</span><span class="ls32">,<span class="fc7 ls34">1</span></span>)</span></span></div><div class="t m0 x5 hf ya08 ff8 fs5 fc8 sc0 ls0">-1.3</div><div class="t m0 x5 hf ya09 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">round<span class="fc0">(<span class="fc7">1.25361</span><span class="ls34">,<span class="fc7">3</span></span>)</span></span></div><div class="t m0 x5 hf ya0a ff8 fs5 fc8 sc0 ls0">1.254</div><div class="t m0 x5 hf y306 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 ya0b ff1 fs3 fc0 sc0 ls14 ws46d">当一个值刚好在两个边界的中间的时候<span class="_ _1"></span>， <span class="ff6 ls0 ws46e">round </span><span class="ws174">函数返回离它最近的偶数。也就<span class="_ _c"></span></span></div><div class="t m0 x5 h7 ya0c ff1 fs3 fc0 sc0 ls0 ws14">是说，对 <span class="ff4 ws2b4">1.5 </span>或者 <span class="ff4 ws171">2.5 </span><span class="ws38">的舍入运算都会得到 <span class="ff4 ls6">2</span>。</span></div><div class="t m0 x0 h9 ya0d ff1 fs3 fc0 sc0 ls0 ws46f">传给 <span class="ff6 ws470">round() </span><span class="ws428">函<span class="_ _6"></span>数<span class="_ _6"></span>的 <span class="ff6 ws471">ndigits </span><span class="wsa0">参<span class="_ _6"></span>数可<span class="_ _6"></span>以<span class="_ _6"></span>是<span class="_ _6"></span>负数，<span class="_ _6"></span>这<span class="_ _6"></span>种情<span class="_ _6"></span>况<span class="_ _6"></span>下，<span class="_ _6"></span>舍入<span class="_ _6"></span>运<span class="_ _6"></span>算<span class="_ _6"></span>会作<span class="_ _6"></span>用<span class="_ _6"></span>在</span></span></div><div class="t m0 x5 h9 ya0e ff1 fs3 fc0 sc0 ls0">十位、百位、千位等上面。比如：</div><div class="t m0 x5 hf y6b2 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=<span class="fc7 ls0">1627731</span></span></span></div><div class="t m0 x5 hf y6b3 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">round<span class="fc0 ws15b">(a, <span class="fc6 ls34">-<span class="fc7">1</span></span>)</span></span></div><div class="t m0 x5 hf y6b4 ff8 fs5 fc8 sc0 ls0">1627730</div><div class="t m0 x5 hf y6b5 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">round<span class="fc0 ws15b">(a, <span class="fc6 ls34">-<span class="fc7">2</span></span>)</span></span></div><div class="t m0 x1d h8 y29 ff2 fs3 fc0 sc0 ls0">81</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
