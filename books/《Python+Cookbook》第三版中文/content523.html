<div id="pf20b" class="pf w0 h0" data-page-no="20b"><div class="pc pc20b w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg20b.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x0 h9 y2a ff1 fs3 fc0 sc0 ls0 wsa0">程序运行时，<span class="ff6 ws472">SIGXCPU </span>信号在时间过期时被生成，然后执行清理并退出。</div><div class="t m0 x0 h9 y76 ff1 fs3 fc0 sc0 ls0">要限制内存使用，设置可使用的总内存值即可，如下：</div><div class="t m0 x5 h10 y32f6 ff7 fs5 fca sc0 ls0 ws146">import <span class="fcc">resource</span></div><div class="t m0 x5 hf y32f7 ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">limit_memory<span class="fc0">(maxsize):</span></span></div><div class="t m0 x15 hf y32f8 ff8 fs5 fc0 sc0 ls0 ws13b">soft, hard <span class="fc6 ls32">=</span><span class="ws13a">resource<span class="fc6 ls34">.</span>getrlimit(resource<span class="fc6 ls34">.</span>RLIMIT_AS)</span></div><div class="t m0 x15 hf y32f9 ff8 fs5 fc0 sc0 ls0 ws13a">resource<span class="fc6">.</span>setrlimit(resource<span class="fc6">.</span><span class="ws4">RLIMIT_AS, (maxsize, hard))</span></div><div class="t m0 x0 h9 y32fa ff1 fs3 fc0 sc0 ls0 ws38">像这样设置了内存限制后，程序运行到没有多余内存时会抛出 <span class="ff6 ws133">MemoryError </span>异常。</div><div class="t m0 x5 he y32fb ff2 fs2 fc4 sc0 ls0 wsadf">15.14.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y32fc ff1 fs3 fc0 sc0 ls0 wsa0">在本节例子中，<span class="ff6 ws1e8">setrlimit() </span><span class="ls35 ws144">函数被用来设置特定资源上面的软限制和硬限制。软</span></div><div class="t m0 x5 h9 y32fd ff1 fs3 fc0 sc0 ls2d ws132">限制是一个值，当超过这个值的时候操作系统通常会发送一个信号来限制或通知该进<span class="_ _1"></span></div><div class="t m0 x5 h9 y32fe ff1 fs3 fc0 sc0 ls1e ws111">程<span class="_ _1"></span>。硬限制是用来指定软限制能设定的最大值<span class="_ _1"></span>。通常来讲，这个由系统管理员通<span class="_ _1"></span>过设</div><div class="t m0 x5 h9 y32ff ff1 fs3 fc0 sc0 ls0">置系统级参数来决定。尽管硬限制可以改小一点，但是最好不要使用用户进程去修改。</div><div class="t m0 x0 h9 y28ae ff6 fs3 fc0 sc0 ls0 ws1e8">setrlimit() <span class="ff1 ls35 ws144">函数还能被用来设置子进程数量、打开文件数以及类似系统资源的限</span></div><div class="t m0 x5 h9 y3300 ff1 fs3 fc0 sc0 ls0 ws38">制。更多详情请参考 <span class="ff6 ws26f">resource </span>模块的文档。</div><div class="t m0 x0 h7 y3301 ff1 fs3 fc0 sc0 ls0 ws7c8">需要注意的是本节内容只能适用于 <span class="ff4 ws1269">Unix </span><span class="wsa0">系统，<span class="_ _1"></span>并且不保证所有系统都能如期工作。</span></div><div class="t m0 x5 h7 y1cba ff1 fs3 fc0 sc0 ls0 ws14">比如我们在测试的时候，它能在 <span class="ff4 ws126a">Lin<span class="_ _1"></span>ux <span class="ff1 ws14">上面正常运行，但是在 </span><span class="wsd0">OS X <span class="ff1">上却不能。</span></span></span></div><div class="t m0 x5 hd y3302 ff2 fs4 fc4 sc0 ls0 wsd91">15.15<span class="_ _e"> </span>13.15 <span class="ff1 ws165">启动一个 </span><span class="ws126b">WEB <span class="ff1">浏览器</span></span></div><div class="t m0 x5 he y3303 ff2 fs2 fc4 sc0 ls0 wsadf">15.15.1 <span class="ff1">问题</span></div><div class="t m0 x0 h7 y2b09 ff1 fs3 fc0 sc0 ls0 ws38">你想通过脚本启动浏览器并打开指定的 <span class="ff4 ws30">URL </span>网页</div><div class="t m0 x5 he y2311 ff2 fs2 fc4 sc0 ls0 wsadf">15.15.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y3304 ff6 fs3 fc0 sc0 ls0 ws2d1">webbrowser <span class="ff1">模块能被用来启动一个浏览器，并且与平台无关。例如：</span></div><div class="t m0 x5 h10 y3305 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">webbrowser</span></span></div><div class="t m0 x5 hf y3306 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">webbrowser<span class="fc6 ls34">.</span>open(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">http://www.python.org<span class="ff9 ws13b">&apos;</span></span>)</span></div><div class="t m0 x5 hf y3307 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y3308 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y3309 ff1 fs3 fc0 sc0 ls3a ws153">它会使用默认浏览器打开指定网页。如果你还想对网页打开方式做更多控制，还可</div><div class="t m0 x5 h9 y330a ff1 fs3 fc0 sc0 ls0">以使用下面这些函数：</div><div class="t m0 x5 h11 y2d9c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Open the page in a new browser window</span></div><div class="t m0 x5 hf y330b ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">webbrowser<span class="fc6 ls34">.</span>open_new(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">http://www.python.org<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y330c ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y330d ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 wsd97">15.15.<span class="_ _36"> </span>13.15 <span class="ff1 ws16b">启动一个 </span><span class="ws126c">WEB <span class="ff1 ws126d">浏览器 </span>514</span></div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
