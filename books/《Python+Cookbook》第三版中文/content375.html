<div id="pf177" class="pf w0 h0" data-page-no="177"><div class="pc pc177 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg177.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 he y137 ff2 fs2 fc4 sc0 ls0 ws212">12.2.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h7 y236 ff1 fs3 fc0 sc0 ls1f wsd0f">尽管强烈反对使用 <span class="ff4 ls0 ws122">‘from mo<span class="_ _6"></span>dule imp<span class="_ _6"></span>ort <span class="ff5 fc2 ws75">*</span><span class="wsd10">‘, </span></span><span class="ws113">但是在定义了大量变量名的模块中频繁</span></div><div class="t m0 x5 h7 y237 ff1 fs3 fc0 sc0 ls0 wsa0">使用。<span class="_ _6"></span>如果<span class="_ _6"></span>你<span class="_ _6"></span>不做<span class="_ _6"></span>任何<span class="_ _6"></span>事<span class="ff4 ls64">,</span><span class="ls12 wse4">这样的导入将会导入所有不以下划线开头的。另一方面<span class="_ _1"></span><span class="ff4 ls1b1">,<span class="ff1 ls0">如</span></span></span></div><div class="t m0 x5 h7 y238 ff1 fs3 fc0 sc0 ls0 ws592">果定义了 <span class="ff4 wsd11">all<span class="_ _30"> </span>, </span>那么只有被列举出的东西会被导出。</div><div class="t m0 x0 h7 y278 ff1 fs3 fc0 sc0 ls0 wsd12">如果你将 <span class="ff4 wsd13">all </span><span class="ls2b ws12e">定义成一个空列表<span class="ff4 ls1b2">,</span><span class="wsd14">没有东西将被导出。如果 </span></span><span class="ff4 wsd13">all </span><span class="ls2b ws12e">包含未定义的</span></div><div class="t m0 x5 h7 y279 ff1 fs3 fc0 sc0 ls0 wsa0">名字<span class="ff4 ls83">,</span><span class="ws14">在导入时引起 <span class="ff4 wsa5">A<span class="_ _1"></span>ttributeError<span class="ff1">。</span></span></span></div><div class="t m0 x5 hd y2636 ff2 fs4 fc4 sc0 ls0 ws211">12.3<span class="_ _e"> </span>10.3 <span class="ff1">使用相对路径名导入包中子模块</span></div><div class="t m0 x5 he y26a7 ff2 fs2 fc4 sc0 ls0 ws212">12.3.1 <span class="ff1">问题</span></div><div class="t m0 x0 h7 y39d ff1 fs3 fc0 sc0 ls6f ws2a7">将代码组织成包<span class="_ _1"></span><span class="ff4 ls1b3">,<span class="ff1 ls0 wsd15">想<span class="_ _6"></span>用 <span class="ff4 wsd16">imp<span class="_ _6"></span>ort </span><span class="ls6f ws2a7">语句从另一个包名没有硬编码过的包的中导入子模<span class="_ _c"></span></span></span></span></div><div class="t m0 x5 h9 y1880 ff1 fs3 fc0 sc0 ls0">块。</div><div class="t m0 x5 he y1881 ff2 fs2 fc4 sc0 ls0 ws212">12.3.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y26a8 ff1 fs3 fc0 sc0 ls3a ws153">使用包的相对导入，使一个的模块导入同一个包的另一个模块举个例子，假设在你</div><div class="t m0 x5 h7 y26a9 ff1 fs3 fc0 sc0 ls0 ws38">的文件系统上有 <span class="ff4 wsd17">m<span class="_ _1"></span>ypac<span class="_ _1"></span>kage <span class="ff1">包，组织如下：</span></span></div><div class="t m0 x5 hf y26aa ff8 fs5 fc0 sc0 ls0 ws13a">mypackage<span class="fc6">/</span></div><div class="t m0 x15 hf y26ab ff8 fs5 fc0 sc0 ls0 ws13a">__init__<span class="fc6">.</span>py</div><div class="t m0 x15 hf y26ac ff8 fs5 fc0 sc0 ls34">A<span class="fc6 ls0">/</span></div><div class="t m0 x16 hf y26ad ff8 fs5 fc0 sc0 ls0 ws13a">__init__<span class="fc6">.</span>py</div><div class="t m0 x16 hf y26ae ff8 fs5 fc0 sc0 ls0 ws13a">spam<span class="fc6">.</span>py</div><div class="t m0 x16 hf y26af ff8 fs5 fc0 sc0 ls0 ws13a">grok<span class="fc6">.</span>py</div><div class="t m0 x15 hf y26b0 ff8 fs5 fc0 sc0 ls34">B<span class="fc6 ls0">/</span></div><div class="t m0 x16 hf y26b1 ff8 fs5 fc0 sc0 ls0 ws13a">__init__<span class="fc6">.</span>py</div><div class="t m0 x16 hf ya28 ff8 fs5 fc0 sc0 ls0 ws13a">bar<span class="fc6 ls34">.</span>py</div><div class="t m0 x0 h7 y26b2 ff1 fs3 fc0 sc0 ls0 wsd18">如<span class="_ _6"></span>果<span class="_ _6"></span>模<span class="_ _6"></span>块 <span class="ff4 wsd19">mypac<span class="_ _c"></span>kage.A.spam <span class="ff1 lsf wsd1a">要导入同目录下的模块 </span><span class="wsa5">grok<span class="ff1 lsf wsd1b">，它应该包括的 </span>imp<span class="_ _6"></span>ort</span></span></div><div class="t m0 x5 h9 y26b3 ff1 fs3 fc0 sc0 ls0">语句如下：</div><div class="t m0 x5 h11 y26b4 ffa fs5 fcd sc0 ls0 ws4"># mypackage/A/spam.py</div><div class="t m0 x5 hf y26b5 ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ls32">.</span><span class="ws146">import <span class="ff8 fc0">grok</span></span></div><div class="t m0 x0 h7 y26b6 ff1 fs3 fc0 sc0 ls0 wsd1c">如<span class="_ _6"></span>果<span class="_ _6"></span>模<span class="_ _6"></span>块 <span class="ff4 wsd1d">mypac<span class="_ _c"></span>kage.A.spam <span class="ff1 ls36 wsd1e">要导入不同目录下的模块 </span><span class="wsa5">B.bar<span class="ff1 ls36 wsd1f">，它应该使用的 </span>im-</span></span></div><div class="t m0 x5 h7 y26b7 ff4 fs3 fc0 sc0 ls0 wsd20">p<span class="_ _6"></span>ort <span class="ff1">语句如下：</span></div><div class="t m0 x5 h11 y26b8 ffa fs5 fcd sc0 ls0 ws4"># mypackage/A/spam.py</div><div class="t m0 x5 hf y26b9 ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ws139">..B </span><span class="ws146">import <span class="ff8 fc0">bar</span></span></div><div class="t m0 x0 h7 y21a5 ff1 fs3 fc0 sc0 ls0 wsc">两个 <span class="ff4 wscf1">imp<span class="_ _6"></span>ort </span><span class="ws14">语句都没包含顶层包名，而是使用了 <span class="ff4 wsd21">spam.p<span class="_ _1"></span>y <span class="ff1">的相对路径。</span></span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">12.3.<span class="_ _5"> </span>10.3 <span class="ff1 ws609">使用相对路径名导入包中子模块 </span>366</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
