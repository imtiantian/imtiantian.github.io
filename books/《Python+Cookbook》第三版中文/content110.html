<div id="pf6e" class="pf w0 h0" data-page-no="6e"><div class="pc pc6e w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg6e.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff8 fs5 fc0 sc0 ls0 ws13a">random<span class="fc6 ls34">.</span><span class="ws145">seed() <span class="ffa fcd ws4"># Seed based on system time or os.urandom()</span></span></div><div class="t m0 x5 hf y1ac ff8 fs5 fc0 sc0 ls0 ws13a">random<span class="fc6 ls34">.</span>seed(<span class="fc7">12345</span><span class="ls33">)</span><span class="ffa fcd ws4"># Seed based on integer given</span></div><div class="t m0 x5 hf y1ad ff8 fs5 fc0 sc0 ls0 ws13a">random<span class="fc6 ls34">.</span>seed(b<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">bytedata<span class="ff9 ls34">&apos;</span></span><span class="ls32">)</span><span class="ffa fcd ws4"># Seed based on byte data</span></div><div class="t m0 x0 h7 yc48 ff1 fs3 fc0 sc0 ls12 wse4">除了上述介绍的功能，<span class="ff4 ls0 ws4fe">random </span>模块还包含基于均匀分布<span class="_ _c"></span>、高斯分布和其他分布的</div><div class="t m0 x5 h9 yc49 ff1 fs3 fc0 sc0 ls17 ws4ff">随机数生成函数。比如<span class="_ _1"></span>， <span class="ff6 ls0 ws500">random.uniform() </span><span class="ws501">计算均匀分布随机数， <span class="ff6 ls0">random.gauss()</span></span></div><div class="t m0 x5 h9 yc4a ff1 fs3 fc0 sc0 ls0">计算正态分布随机数。对于其他的分布情况请参考在线文档。</div><div class="t m0 x0 h9 yc4b ff1 fs3 fc0 sc0 lsdb">在<span class="ff6 ls0 ws20b">random </span><span class="ls3d ws164">模块中的函数不应该用在和密码学相关的程序中。如果你确实需要类似</span></div><div class="t m0 x5 h7 yc4c ff1 fs3 fc0 sc0 ls0 ws502">的功<span class="_ _6"></span>能，可以<span class="_ _6"></span>使用 <span class="ff4 ws503">ssl </span><span class="lse ws504">模块中相应的函数。比如， </span><span class="ff6 ws505">ssl.RAND bytes() </span><span class="lse wsd8">可以用来生成一</span></div><div class="t m0 x5 h9 yc4d ff1 fs3 fc0 sc0 ls0">个安全的随机字节序列。</div><div class="t m0 x5 hd yc4e ff2 fs4 fc4 sc0 ls0 ws211">5.12<span class="_ _e"> </span>3.12 <span class="ff1">基本的日期与时间转换</span></div><div class="t m0 x5 he yc4f ff2 fs2 fc4 sc0 ls0 ws212">5.12.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 yc50 ff1 fs3 fc0 sc0 ls0">你需要执行简单的时间转换，比如天到秒，小时到分钟等的转换。</div><div class="t m0 x5 he yc51 ff2 fs2 fc4 sc0 ls0 ws212">5.12.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 yc52 ff1 fs3 fc0 sc0 ls0 ws506">为了执<span class="_ _6"></span>行不<span class="_ _6"></span>同时间<span class="_ _6"></span>单位<span class="_ _6"></span>的转换<span class="_ _6"></span>和计<span class="_ _6"></span>算，请使<span class="_ _6"></span>用 <span class="ff6 ws507">datetime </span><span class="wsa0">模块。比<span class="_ _6"></span>如，为<span class="_ _6"></span>了表示<span class="_ _6"></span>一</span></div><div class="t m0 x5 h9 yc53 ff1 fs3 fc0 sc0 ls0 ws38">个时间段，可以创建一个 <span class="ff6 ws1d1">timedelta </span>实例，就像下面这样：</div><div class="t m0 x5 hf yc54 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws15a">from <span class="fcc ws248">datetime </span><span class="ws146">import <span class="ff8 fc0">timedelta</span></span></span></div><div class="t m0 x5 hf yc55 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=</span><span class="ls0 ws13a">timedelta(days<span class="fc6 ls34">=</span><span class="fc7">2</span><span class="ws4">, hours</span><span class="fc6">=<span class="fc7 ls34">6</span></span>)</span></span></div><div class="t m0 x5 hf yc56 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">b<span class="fc6 ls33">=</span><span class="ls0 ws13a">timedelta(hours<span class="fc6">=<span class="fc7">4.5</span></span>)</span></span></div><div class="t m0 x5 hf yc57 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">c<span class="fc6 ls33">=</span>a<span class="fc6 ls33">+</span><span class="ls0">b</span></span></div><div class="t m0 x5 hf y60a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">c<span class="fc6 ls0 ws13a">.<span class="fc0">days</span></span></span></div><div class="t m0 x5 hf y60b ff8 fs5 fc8 sc0 ls0">2</div><div class="t m0 x5 hf y60c ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">c<span class="fc6 ls0 ws13a">.<span class="fc0">seconds</span></span></span></div><div class="t m0 x5 hf y60d ff8 fs5 fc8 sc0 ls0">37800</div><div class="t m0 x5 hf y60e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">c<span class="fc6 ls0 ws13a">.<span class="fc0 ws155">seconds </span><span class="ls33">/</span><span class="fc7">3600</span></span></span></div><div class="t m0 x5 hf yc58 ff8 fs5 fc8 sc0 ls0">10.5</div><div class="t m0 x5 hf yc59 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls34">c<span class="fc6 ls0 ws13a">.<span class="fc0 ws151">total_seconds() </span><span class="ls32">/</span><span class="fc7">3600</span></span></span></div><div class="t m0 x5 hf yc5a ff8 fs5 fc8 sc0 ls0">58.5</div><div class="t m0 x5 hf yc5b ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 yc5c ff1 fs3 fc0 sc0 ls3d ws508">如果你想表示指定的日期和时间，先创建一个 <span class="ff6 ls0 ws214">datetime </span><span class="ws164">实例然后使用标准的数学<span class="_ _1"></span></span></div><div class="t m0 x5 h9 yc5d ff1 fs3 fc0 sc0 ls0">运算来操作它们。比如：</div><div class="t m0 x5 hf y570 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws15a">from <span class="fcc ws248">datetime </span><span class="ws146">import <span class="ff8 fc0">datetime</span></span></span></div><div class="t m0 x5 hf yc5e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=</span><span class="ls0 ws13a">datetime(<span class="fc7">2012</span><span class="ls33">,</span><span class="fc7">9</span><span class="ls33">,</span><span class="fc7">23</span>)</span></span></div><div class="t m0 x5 hf yc5f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws159">(a <span class="fc6 ls32">+</span><span class="ws13a">timedelta(days<span class="fc6 ls34">=</span><span class="fc7">10</span>))</span></span></span></div><div class="t m0 x5 hf yc60 ff8 fs5 fc8 sc0 ls0 ws4">2012-10-03 00:00:00</div><div class="t m0 x5 hf yc61 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 hf yc62 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">b<span class="fc6 ls33">=</span><span class="ls0 ws13a">datetime(<span class="fc7">2012</span><span class="ls33">,</span><span class="fc7">12</span><span class="ls33">,</span><span class="fc7">21</span>)</span></span></div><div class="t m0 x5 hf yc63 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">d<span class="fc6 ls33">=</span>b<span class="fc6 ls33">-</span><span class="ls0">a</span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">5.12.<span class="_ _5"> </span>3.12 <span class="ff1 ws509">基本的日期与时间转换 </span>101</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
