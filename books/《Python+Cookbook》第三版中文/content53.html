<div id="pf35" class="pf w0 h0" data-page-no="35"><div class="pc pc35 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg35.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 h11 y1ab ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># On OS X (Mac)</span></div><div class="t m0 x5 hf y1ac ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">fnmatch(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">foo.txt<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">*.TXT<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y1ad ff8 fs5 fc8 sc0 ls0">False</div><div class="t m0 x5 h11 y1ae ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws13b"># On Windows</span></div><div class="t m0 x5 hf y1af ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">fnmatch(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">foo.txt<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">*.TXT<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y1b0 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y355 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y356 ff1 fs3 fc0 sc0 ls0 ws2f5">如<span class="_ _6"></span>果<span class="_ _6"></span>你<span class="_ _6"></span>对<span class="_ _6"></span>这<span class="_ _6"></span>个<span class="_ _6"></span>区<span class="_ _6"></span>别<span class="_ _6"></span>很<span class="_ _6"></span>在<span class="_ _6"></span>意，<span class="_ _6"></span>可<span class="_ _6"></span>以<span class="_ _6"></span>使<span class="_ _6"></span>用 <span class="ff6 ws2f6">fnmatchcase() </span><span class="ls49 ws1a6">来代替<span class="_ _c"></span>。它完全使用你的模</span></div><div class="t m0 x5 h9 y597 ff1 fs3 fc0 sc0 ls0">式大小写匹配。比如：</div><div class="t m0 x5 hf y598 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">fnmatchcase(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">foo.txt<span class="ff9 ls34">&apos;</span></span><span class="ls33">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">*.TXT<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y599 ff8 fs5 fc8 sc0 ls0">False</div><div class="t m0 x5 hf y59a ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y59b ff1 fs3 fc0 sc0 ls3a ws153">这两个函数通常会被忽略的一个特性是在处理非文件名的字符串时候它们也是很有</div><div class="t m0 x5 h9 y59c ff1 fs3 fc0 sc0 ls0">用的。比如，假设你有一个街道地址的列表数据：</div><div class="t m0 x5 hf y59d ff8 fs5 fc0 sc0 ls0 ws16e">addresses <span class="fc6 ls33">=</span>[</div><div class="t m0 x15 hf y59e ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws4">5412 N CLARK ST</span><span class="ls0 ws13b">&apos;<span class="ff8 fc0">,</span></span></div><div class="t m0 x15 hf y59f ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws4">1060 W ADDISON ST</span>&apos;<span class="ff8 fc0 ls0">,</span></div><div class="t m0 x15 hf y5a0 ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws4">1039 W GRANVILLE AVE</span>&apos;<span class="ff8 fc0 ls0">,</span></div><div class="t m0 x15 hf y5a1 ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws4">2122 N CLARK ST</span><span class="ls0 ws13b">&apos;<span class="ff8 fc0">,</span></span></div><div class="t m0 x15 hf y5a2 ff9 fs5 fc9 sc0 ls34">&apos;<span class="ff8 ls0 ws13b">4802 N BROADWAY<span class="ff9">&apos;</span><span class="fc0">,</span></span></div><div class="t m0 x5 hf y120 ff8 fs5 fc0 sc0 ls0">]</div><div class="t m0 x0 h9 y5a3 ff1 fs3 fc0 sc0 ls0">你可以像这样写列表推导：</div><div class="t m0 x5 hf y5a4 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws15a">from <span class="fcc ws2f0">fnmatch </span><span class="ws146">import <span class="ff8 fc0">fnmatchcase</span></span></span></div><div class="t m0 x5 hf y5a5 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws15f">[addr </span><span class="fca">for <span class="ff8 fc0 ws13c">addr </span><span class="ws157">in <span class="ff8 fc0 ws16e">addresses </span>if <span class="ff8 fc0 ws2f7">fnmatchcase(addr, <span class="ff9 fc9 ws13b">&apos;<span class="ff8 ws4">* ST</span><span class="ls34">&apos;</span></span>)]</span></span></span></div><div class="t m0 x5 hf y5a6 ff8 fs5 fc8 sc0 ls34">[<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws4">5412 N CLARK ST</span><span class="ff9">&apos;</span><span class="ls33">,<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws4">1060 W ADDISON ST<span class="ff9 ws13b">&apos;</span></span>,</span><span class="ff9">&apos;</span><span class="ls0 ws4">2122 N CLARK ST</span><span class="ff9">&apos;</span><span class="ls0">]</span></div><div class="t m0 x5 hf y5a7 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws15f">[addr </span><span class="fca">for <span class="ff8 fc0 ws13c">addr </span><span class="ws157">in <span class="ff8 fc0 ws16e">addresses </span>if <span class="ff8 fc0 ws2f7">fnmatchcase(addr, <span class="ff9 fc9 ws13b">&apos;<span class="ff8 ws4">54[0-9][0-9] *CLARK*</span><span class="ls34">&apos;</span></span>)]</span></span></span></div><div class="t m0 x5 hf y5a8 ff8 fs5 fc8 sc0 ls34">[<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws4">5412 N CLARK ST</span><span class="ff9">&apos;</span><span class="ls0">]</span></div><div class="t m0 x5 hf y5a9 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 he y5aa ff2 fs2 fc4 sc0 ls0 ws135">4.3.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y5ab ff6 fs3 fc0 sc0 ls0 ws2f8">fnmatch() <span class="ff1 ls82 ws2f9">函数匹配能力介于简单的字符串方法和强大的正则表达式之间。如果在</span></div><div class="t m0 x5 h9 y5ac ff1 fs3 fc0 sc0 ls0">数据处理操作中只需要简单的通配符就能完成的时候，这通常是一个比较合理的方案。</div><div class="t m0 x0 h7 y5ad ff1 fs3 fc0 sc0 ls0 ws14">如果你的代码需要做文件名的匹配，最好使用 <span class="ff6 ws17a">glob </span><span class="ws38">模块。参考 <span class="ff4 wsca">5.13 </span>小节。</span></div><div class="t m0 x5 hd y5ae ff2 fs4 fc4 sc0 ls0 ws134">4.4<span class="_ _e"> </span>2.4 <span class="ff1">字符串匹配和搜索</span></div><div class="t m0 x5 he y5af ff2 fs2 fc4 sc0 ls0 ws135">4.4.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y5b0 ff1 fs3 fc0 sc0 ls0">你想匹配或者搜索特定模式的文本</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">4.4.<span class="_ _5"> </span>2.4 <span class="ff1 ws2fa">字符串匹配和搜索 </span>44</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
