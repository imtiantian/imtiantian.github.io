<div id="pfba" class="pf w0 h0" data-page-no="ba"><div class="pc pcba w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bgba.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hd y112 ff2 fs4 fc4 sc0 ls0 ws134">8.3<span class="_ _e"> </span>6.3 <span class="ff1 ws7d2">解析简单的 </span><span class="ws7d3">XML <span class="ff1">数据</span></span></div><div class="t m0 x5 he y113 ff2 fs2 fc4 sc0 ls0 ws135">8.3.1 <span class="ff1">问题</span></div><div class="t m0 x0 h7 y2b2 ff1 fs3 fc0 sc0 ls0 wsc">你想从一个简单的 <span class="ff4 ws61">XML </span>文档中提取数据。</div><div class="t m0 x5 he y2b3 ff2 fs2 fc4 sc0 ls0 ws135">8.3.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h7 y2b4 ff1 fs3 fc0 sc0 ls0 ws7d4">可<span class="_ _6"></span>以<span class="_ _6"></span>使<span class="_ _6"></span>用 <span class="ff6 ws7d5">xml.etree.ElementTree </span><span class="ls6c ws7d6">模块从简单的 </span><span class="ff4 ws7d7">XML </span><span class="ls6c ws29d">文档中提取数据。为了演<span class="_ _c"></span></span></div><div class="t m0 x5 h7 y6d2 ff1 fs3 fc0 sc0 ls0 ws14">示，假设你想解析 <span class="ff4 wsd0">Planet Python </span>上的 <span class="ff4 ws7d8">RSS </span>源。下面是相应的代码：</div><div class="t m0 x5 hf y1444 ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ws2dd">urllib.request </span><span class="ws146">import <span class="ff8 fc0">urlopen</span></span></div><div class="t m0 x5 hf y1445 ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ws7d9">xml.etree.ElementTree </span><span class="ws146">import <span class="ff8 fc0">parse</span></span></div><div class="t m0 x5 h11 y1446 ffa fs5 fcd sc0 ls0 ws4"># Download the RSS feed and parse it</div><div class="t m0 x5 hf y1447 ff8 fs5 fc0 sc0 ls32">u<span class="fc6 ls33">=</span><span class="ls0 ws13a">urlopen(<span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">http://planet.python.org/rss20.xml<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y1448 ff8 fs5 fc0 sc0 ls0 ws158">doc <span class="fc6 ls32">=</span>parse(u)</div><div class="t m0 x5 h11 y1449 ffa fs5 fcd sc0 ls0 ws4"># Extract and output tags of interest</div><div class="t m0 x5 hf y144a ff7 fs5 fca sc0 ls0 ws139">for <span class="ff8 fc0 ws13c">item </span><span class="ws157">in <span class="ff8 fc0 ws13a">doc<span class="fc6 ls34">.</span>iterfind(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">channel/item<span class="ff9 ws13b">&apos;</span></span>):</span></span></div><div class="t m0 x15 hf y144b ff8 fs5 fc0 sc0 ls0 ws15f">title <span class="fc6 ls33">=</span><span class="ws13a">item<span class="fc6">.</span>findtext(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">title<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x15 hf y144c ff8 fs5 fc0 sc0 ls0 ws13c">date <span class="fc6 ls32">=</span><span class="ws13a">item<span class="fc6 ls34">.</span>findtext(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">pubDate<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x15 hf y144d ff8 fs5 fc0 sc0 ls0 ws13c">link <span class="fc6 ls32">=</span><span class="ws13a">item<span class="fc6 ls34">.</span>findtext(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">link<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x15 hf y144e ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0">(title)</span></div><div class="t m0 x15 hf y144f ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0">(date)</span></div><div class="t m0 x15 hf y1450 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0">(link)</span></div><div class="t m0 x15 hf y1451 ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0">()</span></div><div class="t m0 x0 h9 y1452 ff1 fs3 fc0 sc0 ls0">运行上面的代码，输出结果类似这样：</div><div class="t m0 x5 hf y1453 ff8 fs5 fc0 sc0 ls0 ws4">Steve Holden: Python <span class="ff7 fca ws139">for </span>Data Analysis</div><div class="t m0 x5 hf y1454 ff8 fs5 fc0 sc0 ls0 ws13c">Mon, <span class="fc7 ws159">19 </span><span class="ws158">Nov <span class="fc7 ws161">2012 02</span><span class="ls34">:</span><span class="fc7 ws13a">13</span><span class="ls34">:</span><span class="fc7 ws159">51 <span class="fc6 ls34">+</span>0000</span></span></div><div class="t m0 x5 hf y1455 ff8 fs5 fc0 sc0 ls0 ws13a">http:<span class="fc6">//</span>holdenweb<span class="fc6">.</span>blogspot<span class="fc6 ls34">.</span>com<span class="fc6 ls34">/</span><span class="fc7">2012<span class="fc6">/</span>11<span class="fc6 ls34">/</span></span>python<span class="fc6 ls34">-</span><span class="ff7 fca ws156">for</span><span class="fc6 ls34">-</span>data<span class="fc6">-</span>analysis<span class="fc6 ls34">.</span>html</div><div class="t m0 x5 hf y1456 ff8 fs5 fc0 sc0 ls0 ws4">Vasudev Ram: The Python Data model (<span class="ff7 fca ws139">for </span><span class="ws159">v2 <span class="ff7 fca ws139">and </span>v3)</span></div><div class="t m0 x5 hf y1457 ff8 fs5 fc0 sc0 ls0 ws13c">Sun, <span class="fc7 ws159">18 </span><span class="ws158">Nov <span class="fc7 ws161">2012 22</span><span class="ls34">:</span><span class="fc7 ws13a">06</span><span class="ls34">:</span><span class="fc7 ws159">47 <span class="fc6 ls34">+</span>0000</span></span></div><div class="t m0 x5 hf y1458 ff8 fs5 fc0 sc0 ls0 ws13a">http:<span class="fc6">//</span>jugad2<span class="fc6 ls34">.</span>blogspot<span class="fc6 ls34">.</span>com<span class="fc6 ls34">/</span><span class="fc7">2012<span class="fc6">/</span>11<span class="fc6">/</span></span>the<span class="fc6">-</span>python<span class="fc6">-</span>data<span class="fc6 ls34">-</span>model<span class="fc6">.</span>html</div><div class="t m0 x5 hf y1459 ff8 fs5 fc0 sc0 ls0 ws4">Python Diary: Been playing around <span class="ff7 fca ws218">with </span>Object Databases</div><div class="t m0 x5 hf y145a ff8 fs5 fc0 sc0 ls0 ws13c">Sun, <span class="fc7 ws159">18 </span><span class="ws158">Nov <span class="fc7 ws161">2012 20</span><span class="ls34">:</span><span class="fc7 ws13a">40</span><span class="ls34">:</span><span class="fc7 ws159">29 <span class="fc6 ls34">+</span>0000</span></span></div><div class="t m0 x5 hf y145b ff8 fs5 fc0 sc0 ls0 ws13a">http:<span class="fc6">//</span>www<span class="fc6 ls34">.</span>pythondiary<span class="fc6 ls34">.</span>com<span class="fc6 ls34">/</span>blog<span class="fc6">/</span>Nov<span class="fc6 ls34">.</span><span class="fc7">18</span>,<span class="fc7">2012<span class="fc6 ls34">/</span></span>been<span class="fc6 ls34 ws76a">-...-</span><span class="fca">object<span class="fc6 ls34">-</span></span>databases<span class="fc6 ls34">.</span>html</div><div class="t m0 x5 hf y145c ff8 fs5 fc0 sc0 ls0 ws4">Vasudev Ram: Wakari, Scientific Python <span class="ff7 fca ws160">in </span><span class="ws13b">the cloud</span></div><div class="t m0 x5 hf y145d ff8 fs5 fc0 sc0 ls0 ws13c">Sun, <span class="fc7 ws159">18 </span><span class="ws158">Nov <span class="fc7 ws161">2012 20</span><span class="ls34">:</span><span class="fc7 ws13a">19</span><span class="ls34">:</span><span class="fc7 ws159">41 <span class="fc6 ls34">+</span>0000</span></span></div><div class="t m0 x5 hf y145e ff8 fs5 fc0 sc0 ls0 ws13a">http:<span class="fc6">//</span>jugad2<span class="fc6 ls34">.</span>blogspot<span class="fc6 ls34">.</span>com<span class="fc6 ls34">/</span><span class="fc7">2012<span class="fc6">/</span>11<span class="fc6">/</span></span>wakari<span class="fc6 ls34">-</span>scientific<span class="fc6 ls34">-</span>python<span class="fc6 ls34">-</span><span class="ff7 fca ws156">in</span><span class="fc6 ls34">-</span>cloud<span class="fc6 ls34">.</span>html</div><div class="t m0 x5 hf y145f ff8 fs5 fc0 sc0 ls0 ws4">Jesse Jiryu Davis: Toro: synchronization primitives <span class="ff7 fca ws139">for </span><span class="ws13b">Tornado coroutines</span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">8.3.<span class="_ _5"> </span>6.3 <span class="ff1 ws7da">解析简单的 </span><span class="ws7db">XML <span class="ff1 ws7dc">数据 </span>177</span></div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
