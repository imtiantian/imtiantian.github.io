<div id="pf1c" class="pf w0 h0" data-page-no="1c"><div class="pc pc1c w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg1c.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff8 fs5 fc0 sc0 ls0 ws1f8">prices_and_names <span class="fc6 ls33">=</span><span class="fca ws13a">zip<span class="fc0">(prices<span class="fc6 ls34">.</span><span class="ws13b">values(), prices<span class="fc6 ls34">.</span>keys())</span></span></span></div><div class="t m0 x5 hf y1ac ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ws13a">(<span class="fca">min</span><span class="ws1f9">(prices_and_names)) <span class="ffa fcd ws4"># OK</span></span></span></div><div class="t m0 x5 hf y1ad ff7 fs5 fca sc0 ls0 ws156">print<span class="ff8 fc0 ws13a">(<span class="fca">max</span><span class="ws1f9">(prices_and_names)) <span class="ffa fcd ws4"># ValueError: max() arg is an empty sequence</span></span></span></div><div class="t m0 x5 he y295 ff2 fs2 fc4 sc0 ls0 ws135">3.8.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y296 ff1 fs3 fc0 sc0 ls56 ws1fa">如果你在一个字典上执行普通的数学运算<span class="_ _c"></span>，你会发现它们仅仅作用于键<span class="_ _1"></span>，而不是<span class="_ _1"></span></div><div class="t m0 x5 h9 y297 ff1 fs3 fc0 sc0 ls0">值。比如：</div><div class="t m0 x5 hf y298 ff8 fs5 fca sc0 ls0 ws13a">min<span class="fc0 ws16d">(prices) <span class="ffa fcd ws13b"># Returns <span class="ffb ls34">&apos;</span><span class="ws13a">AAPL<span class="ffb">&apos;</span></span></span></span></div><div class="t m0 x5 hf y299 ff8 fs5 fca sc0 ls0 ws13a">max<span class="fc0 ws16d">(prices) <span class="ffa fcd ws13b"># Returns <span class="ffb ls34">&apos;</span><span class="ws13a">IBM<span class="ffb">&apos;</span></span></span></span></div><div class="t m0 x0 h9 y29a ff1 fs3 fc0 sc0 ls3a ws153">这个结果并不是你想要的，因为你想要在字典的值集合上执行这些计算。或许你会</div><div class="t m0 x5 h9 y29b ff1 fs3 fc0 sc0 ls0 ws14">尝试着使用字典的 <span class="ff6 ws1f3">values() </span>方法来解决这个问题：</div><div class="t m0 x5 hf y29c ff8 fs5 fca sc0 ls0 ws13a">min<span class="fc0">(prices<span class="fc6 ls34">.</span><span class="ws16e">values()) <span class="ffa fcd ws4"># Returns 10.75</span></span></span></div><div class="t m0 x5 hf y29d ff8 fs5 fca sc0 ls0 ws13a">max<span class="fc0">(prices<span class="fc6 ls34">.</span><span class="ws16e">values()) <span class="ffa fcd ws4"># Returns 612.78</span></span></span></div><div class="t m0 x0 h9 y29e ff1 fs3 fc0 sc0 ls3a ws153">不幸的是，通常这个结果同样也不是你想要的。你可能还想要知道对应的键的信息</div><div class="t m0 x5 h7 y29f ff4 fs3 fc0 sc0 ls0 wsa5">(<span class="ff1 wsa0">比如那种股票价格是最低的？</span><span class="ls1b">)</span><span class="ff1">。</span></div><div class="t m0 x0 h9 y2a0 ff1 fs3 fc0 sc0 ls0 ws1fb">你可<span class="_ _6"></span>以在 <span class="ff6 ws1fc">min() </span><span class="ls57">和</span><span class="ff6 ws1fc">max() </span><span class="ls42 ws1fd">函数中提供 </span><span class="ff6 ws1fe">key </span><span class="ls42 ws186">函数参数来获取最小值或最大值对应的</span></div><div class="t m0 x5 h9 y2a1 ff1 fs3 fc0 sc0 ls0">键的信息。比如：</div><div class="t m0 x5 hf y2a2 ff8 fs5 fca sc0 ls0 ws13a">min<span class="fc0 ws4">(prices, key<span class="fc6 ls34">=</span></span><span class="ff7 ws146">lambda </span><span class="fc0 ws13b">k: prices[k]) <span class="ffa fcd"># Returns <span class="ffb ls34">&apos;</span><span class="ws13a">FB<span class="ffb">&apos;</span></span></span></span></div><div class="t m0 x5 hf y2a3 ff8 fs5 fca sc0 ls0 ws13a">max<span class="fc0 ws4">(prices, key<span class="fc6 ls34">=</span></span><span class="ff7 ws146">lambda </span><span class="fc0 ws13b">k: prices[k]) <span class="ffa fcd"># Returns <span class="ffb ls34">&apos;</span><span class="ws13a">AAPL<span class="ffb">&apos;</span></span></span></span></div><div class="t m0 x0 h9 y2a4 ff1 fs3 fc0 sc0 ls0">但是，如果还想要得到最小值，你又得执行一次查找操作。比如：</div><div class="t m0 x5 hf y2a5 ff8 fs5 fc0 sc0 ls0 ws16e">min_value <span class="fc6 ls33">=</span><span class="ws13a">prices[<span class="fca">min</span><span class="ws4">(prices, key</span><span class="fc6">=<span class="ff7 fca ws1ff">lambda </span></span><span class="ws13b">k: prices[k])]</span></span></div><div class="t m0 x0 h7 y2a6 ff1 fs3 fc0 sc0 ls0 ws200">前<span class="_ _6"></span>面<span class="_ _6"></span>的 <span class="ff6 ws1a5">zip() </span><span class="ls49 ws1a6">函数方案通过将字典<span class="_ _1"></span><span class="ff4 ls58">”<span class="ff1 ls0 wsa0">反<span class="_ _6"></span>转</span><span class="ls59">”<span class="ff1 ls5a">为</span><span class="ls1b">(<span class="ff1 ls0 wsa0">值，<span class="_ _6"></span>键</span><span class="ls5b">)<span class="ff1 ls49">元组序列来解决了上述问<span class="_ _1"></span></span></span></span></span></span></span></div><div class="t m0 x5 h9 y2a7 ff1 fs3 fc0 sc0 ls1e ws111">题<span class="_ _1"></span>。当比较两个元组的时候，值会先进行比较<span class="_ _c"></span>，然后才是键。这样的话你就能通过一<span class="_ _1"></span></div><div class="t m0 x5 h9 y2a8 ff1 fs3 fc0 sc0 ls0">条简单的语句就能很轻松的实现在字典上的求最值和排序操作了。</div><div class="t m0 x0 h7 y2a9 ff1 fs3 fc0 sc0 ls0 ws201">需要<span class="_ _6"></span>注<span class="_ _6"></span>意<span class="_ _6"></span>的<span class="_ _6"></span>是在<span class="_ _6"></span>计<span class="_ _6"></span>算<span class="_ _6"></span>操作<span class="_ _6"></span>中<span class="_ _6"></span>使<span class="_ _6"></span>用到<span class="_ _6"></span>了 <span class="ff4 ls1b">(</span><span class="wsa0">值，<span class="_ _6"></span>键<span class="ff4 ls5c">)</span>对。<span class="_ _6"></span>当多<span class="_ _6"></span>个<span class="_ _6"></span>实<span class="_ _6"></span>体拥<span class="_ _6"></span>有<span class="_ _6"></span>相<span class="_ _6"></span>同的<span class="_ _6"></span>值<span class="_ _6"></span>的<span class="_ _6"></span>时</span></div><div class="t m0 x5 h9 y2aa ff1 fs3 fc0 sc0 ls0 ws202">候，键会<span class="_ _6"></span>决定返<span class="_ _6"></span>回结<span class="_ _6"></span>果。比如，<span class="_ _6"></span>在执行 <span class="ff6 ws203">min() </span><span class="ls5d">和</span><span class="ff6 ws203">max() </span><span class="wsa0">操<span class="_ _6"></span>作的时<span class="_ _6"></span>候，如果<span class="_ _6"></span>恰巧最<span class="_ _6"></span>小或</span></div><div class="t m0 x5 h9 y2ab ff1 fs3 fc0 sc0 ls0">最大值有重复的，那么拥有最小或最大键的实体会返回：</div><div class="t m0 x5 hf y2ac ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws145">prices <span class="fc6 ls32">=</span><span class="ls33">{<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws13a">AAA<span class="ff9 ls32">&apos;</span></span><span class="ls33">:</span><span class="fc7 ws13a">45.23</span><span class="ls33">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws13a">ZZZ<span class="ff9 ws13b">&apos;</span></span><span class="ls33">:</span><span class="fc7 ws15f">45.23 </span>}</span></div><div class="t m0 x5 hf y2ad ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">min<span class="fc0 ls34">(</span>zip<span class="fc0">(prices<span class="fc6 ls34">.</span><span class="ws13b">values(), prices<span class="fc6 ls34">.</span>keys()))</span></span></span></div><div class="t m0 x5 hf y2ae ff8 fs5 fc8 sc0 ls0 ws155">(45.23, <span class="ff9 ls34">&apos;</span><span class="ws13a">AAA<span class="ff9 ws13b">&apos;</span>)</span></div><div class="t m0 x5 hf y2af ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">max<span class="fc0 ls34">(</span>zip<span class="fc0">(prices<span class="fc6 ls34">.</span><span class="ws13b">values(), prices<span class="fc6 ls34">.</span>keys()))</span></span></span></div><div class="t m0 x5 hf y2b0 ff8 fs5 fc8 sc0 ls0 ws155">(45.23, <span class="ff9 ls34">&apos;</span><span class="ws13a">ZZZ<span class="ff9 ws13b">&apos;</span>)</span></div><div class="t m0 x5 hf y2b1 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">3.8.<span class="_ _5"> </span>1.8 <span class="ff1 ws1f7">字典的运算 </span>19</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
