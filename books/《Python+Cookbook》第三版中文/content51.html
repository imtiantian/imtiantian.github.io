<div id="pf33" class="pf w0 h0" data-page-no="33"><div class="pc pc33 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg33.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y1ab ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">url<span class="fc6 ls34">.</span>startswith(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">http:<span class="ff9 ls34">&apos;</span></span>)</span></div><div class="t m0 x5 hf y1ac ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y1ad ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y2f1 ff1 fs3 fc0 sc0 ls3a ws153">如果你想检查多种匹配可能，只需要将所有的匹配项放入到一个元组中去，然后传</div><div class="t m0 x5 h9 y2f2 ff1 fs3 fc0 sc0 ls4">给<span class="ff6 ls0 ws1dc">startswith() </span><span class="ls0 ws14">或者 <span class="ff6 ws17c">endswith() </span>方法：</span></div><div class="t m0 x5 h10 y553 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">os</span></span></div><div class="t m0 x5 hf y554 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws16e">filenames <span class="fc6 ls33">=</span><span class="ws13a">os<span class="fc6 ls34">.</span>listdir(<span class="ff9 fc9 ws13b">&apos;<span class="ff8 ls34">.<span class="ff9">&apos;</span></span></span>)</span></span></div><div class="t m0 x5 hf y555 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0">filenames</span></div><div class="t m0 x5 hf y556 ff8 fs5 fc8 sc0 ls32">[<span class="ff9 ls34">&apos;</span><span class="ls0 ws13a">Makefile<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 ls34">&apos;</span><span class="ls0 ws13a">foo.c<span class="ff9 ws13b">&apos;</span><span class="ls33">,</span><span class="ff9 ws13b">&apos;</span>bar.py<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 ls34">&apos;</span><span class="ls0 ws13a">spam.c<span class="ff9 ls34">&apos;</span></span>,<span class="ff9 ls34">&apos;</span><span class="ls0 ws13a">spam.h<span class="ff9 ls33">&apos;</span>]</span></div><div class="t m0 x5 hf y557 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws15f">[name </span><span class="fca">for <span class="ff8 fc0 ws13c">name </span><span class="ws157">in <span class="ff8 fc0 ws16e">filenames </span>if <span class="ff8 fc0 ws13a">name<span class="fc6 ls34">.</span>endswith((<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">.c<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,</span><span class="ff9 fc9 ws13b">&apos;</span><span class="fc9">.h<span class="ff9 ls34">&apos;</span></span><span class="ws13b">)) ]</span></span></span></span></div><div class="t m0 x5 hf y558 ff8 fs5 fc8 sc0 ls34">[<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">foo.c</span><span class="ff9">&apos;</span><span class="ls32">,</span><span class="ff9">&apos;</span><span class="ls0 ws13a">spam.c</span><span class="ff9">&apos;</span><span class="ls33">,<span class="ff9 ls0 ws13b">&apos;</span><span class="ls0 ws13a">spam.h<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 hf y559 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fca ws13a">any<span class="fc0">(name<span class="fc6">.</span>endswith(<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">.py<span class="ff9 ls34">&apos;</span></span><span class="ls32">)</span></span></span><span class="fca">for <span class="ff8 fc0 ws13c">name </span><span class="ws157">in <span class="ff8 fc0">filenames)</span></span></span></div><div class="t m0 x5 hf y55a ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y55b ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y55c ff1 fs3 fc0 sc0 ls0">下面是另一个例子：</div><div class="t m0 x5 hf y55d ff7 fs5 fca sc0 ls0 ws15a">from <span class="fcc ws2dd">urllib.request </span><span class="ws146">import <span class="ff8 fc0">urlopen</span></span></div><div class="t m0 x5 hf y55e ff7 fs5 fca sc0 ls0 ws139">def <span class="ff8 fcb ws13a">read_data<span class="fc0">(name):</span></span></div><div class="t m0 x15 hf y55f ff7 fs5 fca sc0 ls0 ws157">if <span class="ff8 fc0 ws13a">name<span class="fc6 ls34">.</span>startswith((<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">http:<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">https:<span class="ff9 ls34">&apos;</span></span><span class="ls32">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">ftp:<span class="ff9 ls34">&apos;</span></span>)):</span></div><div class="t m0 x16 hf y560 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 fc0 ws13a">urlopen(name)<span class="fc6 ls34">.</span>read()</span></div><div class="t m0 x15 hf y561 ff7 fs5 fca sc0 ls0 ws156">else<span class="ff8 fc0">:</span></div><div class="t m0 x16 hf y562 ff7 fs5 fca sc0 ls0 ws218">with <span class="ff8 ws13a">open<span class="fc0 ws145">(name) </span></span><span class="ws160">as <span class="ff8 fc0">f:</span></span></div><div class="t m0 x17 hf y563 ff7 fs5 fca sc0 ls0 ws146">return <span class="ff8 fc0 ls34">f<span class="fc6 ls0 ws13a">.<span class="fc0">read()</span></span></span></div><div class="t m0 x0 h9 y564 ff1 fs3 fc0 sc0 lse ws2de">奇怪的是，这个方法中必须要输入一个元组作为参数。如果你恰巧有一个 <span class="ff6 ls0 ws27f">list <span class="ff1">或</span></span></div><div class="t m0 x5 h9 y565 ff1 fs3 fc0 sc0 ls79">者<span class="ff6 ls0 ws2df">set </span><span class="ls0 ws2e0">类型的选择项，<span class="_ _c"></span>要确保传递参数前先调用 <span class="ff6 ws2e1">tuple() </span><span class="wsa0">将其转换为元组类型。比如：</span></span></div><div class="t m0 x5 hf y566 ff8 fs5 fc0 sc0 ls0 ws4">&gt;&gt;&gt; choices = [<span class="ff9 ls34">&apos;</span><span class="ws13a">http:<span class="ff9 ls34">&apos;</span><span class="ls32">,<span class="ff9 ls34">&apos;</span></span>ftp:<span class="ff9 ls34">&apos;</span>]</span></div><div class="t m0 x5 hf y567 ff8 fs5 fc0 sc0 ls0 ws4">&gt;&gt;&gt; url = <span class="ff9 ls34">&apos;</span><span class="ws13a">http://www.python.org<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y568 ff8 fs5 fc0 sc0 ls0 ws4">&gt;&gt;&gt; url.startswith(choices)</div><div class="t m0 x5 hf y569 ff8 fs5 fc0 sc0 ls0 ws4">Traceback (most recent call last):</div><div class="t m0 x5 hf y56a ff8 fs5 fc0 sc0 ls0 ws4">File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</div><div class="t m0 x5 hf y56b ff8 fs5 fc0 sc0 ls0 ws4">TypeError: startswith first arg must be str or a tuple of str, not list</div><div class="t m0 x5 hf y56c ff8 fs5 fc0 sc0 ls0 ws4">&gt;&gt;&gt; url.startswith(tuple(choices))</div><div class="t m0 x5 hf y56d ff8 fs5 fc0 sc0 ls0">True</div><div class="t m0 x5 hf y56e ff8 fs5 fc0 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 he y56f ff2 fs2 fc4 sc0 ls0 ws135">4.2.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y570 ff6 fs3 fc0 sc0 ls0 ws2e2">startswith() <span class="ff1 ls7a">和</span><span class="ws2e3">endswith() <span class="ff1 ls6c ws29d">方法提供了一个非常方便的方式去做字符串开头和<span class="_ _c"></span></span></span></div><div class="t m0 x5 h9 y571 ff1 fs3 fc0 sc0 ls0 wsa0">结<span class="_ _6"></span>尾的<span class="_ _6"></span>检<span class="_ _6"></span>查。<span class="_ _6"></span>类<span class="_ _6"></span>似<span class="_ _6"></span>的操<span class="_ _6"></span>作<span class="_ _6"></span>也<span class="_ _6"></span>可<span class="_ _6"></span>以<span class="_ _6"></span>使用<span class="_ _6"></span>切<span class="_ _6"></span>片<span class="_ _6"></span>来<span class="_ _6"></span>实<span class="_ _6"></span>现，<span class="_ _6"></span>但是<span class="_ _6"></span>代<span class="_ _6"></span>码<span class="_ _6"></span>看<span class="_ _6"></span>起<span class="_ _6"></span>来没<span class="_ _6"></span>有<span class="_ _6"></span>那<span class="_ _6"></span>么<span class="_ _6"></span>优<span class="_ _6"></span>雅。比</div><div class="t m0 x5 h9 y572 ff1 fs3 fc0 sc0 ls0">如：</div><div class="t m0 x5 hf y573 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws1f5">filename <span class="fc6 ls33">=<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws13a">spam.txt<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 hf y574 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">filename[<span class="fc6 ls34">-<span class="fc7">4</span></span><span class="ws159">:] <span class="fc6">== <span class="ff9 fc9 ls34">&apos;</span></span></span><span class="fc9">.txt<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 hf y575 ff8 fs5 fc8 sc0 ls0">True</div><div class="t m0 x5 hf y576 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws158">url <span class="fc6 ls32">=<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9 ws13a">http://www.python.org<span class="ff9">&apos;</span></span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws13e">4.2.<span class="_ _5"> </span>2.2 <span class="ff1 ws1d2">字符串开头或结尾匹配 </span>42</div></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
