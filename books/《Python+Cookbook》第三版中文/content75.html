<div id="pf4b" class="pf w0 h0" data-page-no="4b"><div class="pc pc4b w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg4b.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 hf y765 ff8 fs5 fc8 sc0 ls0 ws4">around the eyes, don<span class="ff9 ws13b">&apos;</span>t look around the</div><div class="t m0 x5 hf y766 ff8 fs5 fc8 sc0 ls0 ws4">eyes, look into my eyes, you<span class="ff9 ls34">&apos;</span>re under.</div><div class="t m0 x5 hf y768 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(textwrap<span class="fc6 ls34">.</span><span class="ws155">fill(s, </span><span class="fc7">40</span><span class="ws4">, subsequent_indent<span class="fc6 ls34">=</span><span class="ff9 fc9 ws3e9">&apos; &apos;</span>))</span></span></span></div><div class="t m0 x5 hf y769 ff8 fs5 fc8 sc0 ls0 ws4">Look into my eyes, look into my eyes,</div><div class="t m0 x15 hf y76a ff8 fs5 fc8 sc0 ls0 ws4">the eyes, the eyes, the eyes, not</div><div class="t m0 x15 hf y76b ff8 fs5 fc8 sc0 ls0 ws4">around the eyes, don<span class="ff9 ls34">&apos;</span>t look around</div><div class="t m0 x15 hf y76c ff8 fs5 fc8 sc0 ls0 ws4">the eyes, look into my eyes, you<span class="ff9 ls34">&apos;</span>re</div><div class="t m0 x15 hf y842 ff8 fs5 fc8 sc0 ls0">under.</div><div class="t m0 x5 he y843 ff2 fs2 fc4 sc0 ls0 ws212">4.16.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y844 ff6 fs3 fc0 sc0 ls0 ws3a9">textwrap <span class="ff1 ls2d ws132">模块对于字符串打印是非常有用的<span class="_ _1"></span>，特别是当你希望输出自动匹配终端<span class="_ _1"></span></span></div><div class="t m0 x5 h9 y845 ff1 fs3 fc0 sc0 ls60 ws3ea">大小的时候<span class="_ _c"></span>。你可以使用 <span class="ff6 ls0 ws3a9">os.get terminal size()<span class="_ _18"> </span></span><span class="ws3eb">方法来获取终端的大小尺寸<span class="_ _c"></span>。比<span class="_ _c"></span></span></div><div class="t m0 x5 h9 y846 ff1 fs3 fc0 sc0 ls0">如：</div><div class="t m0 x5 h10 y847 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">os</span></span></div><div class="t m0 x5 hf y848 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws13a">os<span class="fc6 ls34">.</span>get_terminal_size()<span class="fc6 ls34">.</span>columns</span></div><div class="t m0 x5 hf y849 ff8 fs5 fc8 sc0 ls0">80</div><div class="t m0 x5 hf y84a ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h7 y84b ff6 fs3 fc0 sc0 ls0 ws3ec">fill() <span class="ff1 lsab ws3ed">方法接受一些其他可选参数来控制 </span><span class="ff4 wsa5">tab<span class="ff1 lsab ws3ee">，语句结尾等<span class="_ _1f"></span>。参阅 <span class="ff4 fc3 ls0">tex-</span></span></span></div><div class="t m0 x5 h7 y84c ff4 fs3 fc3 sc0 ls0 ws3ef">t<span class="_ _1"></span>wrap.T<span class="_ _8"></span>extW<span class="_ _d"></span>rapp<span class="_ _6"></span>er <span class="ff1 ws14">文档 <span class="fc0">获取更多内容。</span></span></div><div class="t m0 x5 hd y84d ff2 fs4 fc4 sc0 ls0 ws211">4.17<span class="_ _e"> </span>2.17 <span class="ff1 ws357">在字符串中处理 </span><span class="ws3f0">html <span class="ff1 lsac">和</span>xml</span></div><div class="t m0 x5 he y84e ff2 fs2 fc4 sc0 ls0 ws212">4.17.1 <span class="ff1">问题</span></div><div class="t m0 x0 h7 y84f ff1 fs3 fc0 sc0 ls3a ws3f1">你想将 <span class="ff4 ls0 ws3f2">HTML <span class="ff1 ws366">或者 </span><span class="ws3f3">XML <span class="ff1 ws3f4">实体如 <span class="ff6 ws3f5">&amp;entity; </span><span class="lsad">或</span><span class="ff6 ws3f6">&amp;#code; </span><span class="wsa0">替换为对应的<span class="_ _6"></span>文本。再者，</span></span></span></span></div><div class="t m0 x5 h7 y850 ff1 fs3 fc0 sc0 ls0 ws38">你需要转换文本中特定的字符 <span class="ff4 ls1b">(</span><span class="wsa0">比如<span class="ff12 ws305">&lt;<span class="ff4 ls83">,</span><span class="lsae">&gt;<span class="ff4 ls83">,</span></span></span><span class="ls4">或</span><span class="ff4 wsa5">&amp;)</span>。</span></div><div class="t m0 x5 he y851 ff2 fs2 fc4 sc0 ls0 ws212">4.17.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h7 y852 ff1 fs3 fc0 sc0 ls0 ws3f7">如果你想替换文本字符串中的 <span class="ff4 wsa5">‘<span class="ff12 ws305">&lt;</span><span class="lsaf">’</span></span><span class="ws3f8">或者 <span class="ff4 wsa5">‘<span class="ff12 lsae">&gt;</span><span class="lsb0">’</span></span><span class="ws3f9">，<span class="_ _1"></span>使用 <span class="ff6 ws3fa">html.escape() </span>函数可以很容易</span></span></div><div class="t m0 x5 h9 y853 ff1 fs3 fc0 sc0 ls0">的完成。比如：</div><div class="t m0 x5 hf y854 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">s<span class="fc6 ls33">=<span class="ff9 fc9 ls34">&apos;<span class="ff8 ls0 ws4">Elements are written as &quot;&lt;tag&gt;text&lt;/tag&gt;&quot;.<span class="ff9">&apos;</span></span></span></span></span></div><div class="t m0 x5 h10 y855 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws146">import <span class="fcc">html</span></span></div><div class="t m0 x5 hf y856 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0">(s)</span></span></div><div class="t m0 x5 hf y857 ff8 fs5 fc8 sc0 ls0 ws4">Elements are written as &quot;&lt;tag&gt;text&lt;/tag&gt;&quot;.</div><div class="t m0 x5 hf y858 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(html<span class="fc6 ls34">.</span>escape(s))</span></span></div><div class="t m0 x5 hf y859 ff8 fs5 fc8 sc0 ls0 ws4">Elements are written as &amp;quot;&amp;lt;tag&amp;gt;text&amp;lt;/tag&amp;gt;&amp;quot;.</div><div class="t m0 x5 h11 y85a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ffa fcd ws4"># Disable escaping of quotes</span></div><div class="t m0 x5 hf y74a ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="fca ws156">print<span class="ff8 fc0 ws13a">(html<span class="fc6 ls34">.</span><span class="ws13b">escape(s, quote<span class="fc6 ls34">=</span></span><span class="fca">False</span>))</span></span></div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">4.17.<span class="_ _5"> </span>2.17 <span class="ff1 ws36c">在字符串中处理 </span><span class="ws3fb">html <span class="ff1 ls81">和</span><span class="ws3fc">xml 66</span></span></div><a class="l" href="https://docs.python.org/3.3/library/textwrap.html#textwrap.TextWrapper"><div class="d m1" style="border-style:none;position:absolute;left:755.163000px;bottom:674.361000px;width:19.834000px;height:16.821000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://docs.python.org/3.3/library/textwrap.html#textwrap.TextWrapper"><div class="d m1" style="border-style:none;position:absolute;left:108.000000px;bottom:652.692000px;width:128.614000px;height:16.821000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
