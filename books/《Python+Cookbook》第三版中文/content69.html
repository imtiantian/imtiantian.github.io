<div id="pf45" class="pf w0 h0" data-page-no="45"><div class="pc pc45 w0 h0"><img class="bi x13 y5 w2 ha" alt="" src="bg45.png"/><div class="t m0 xd h9 y75 ff1 fs3 fc0 sc0 lsb">《<span class="ff2 ls0 wsce">Python Co<span class="_ _6"></span>okb<span class="_ _6"></span>o<span class="_ _6"></span>ok</span><span class="ls0 wsa0">》第三版<span class="ff2 wsce">, Release 2.0.0</span></span></div><div class="t m0 x5 he y137 ff2 fs2 fc4 sc0 ls0 ws212">4.13.3 <span class="ff1">讨论</span></div><div class="t m0 x0 h9 y236 ff1 fs3 fc0 sc0 ls0 ws14">在老的代码中，你经常会看到被用来格式化文本的 <span class="ff6 ls86">%</span>操作符。比如：</div><div class="t m0 x5 hf y78e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ls34">&apos;</span><span class="ffa fcf ws13a">%-20s<span class="ff9 fc9 ls33">&apos;<span class="ff8 fc6 ls32">%<span class="fc0 ls0">text</span></span></span></span></div><div class="t m0 x5 hf y78f ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13b">Hello World<span class="_ _1b"> </span><span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y790 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ls34">&apos;</span><span class="ffa fcf ws13a">%20s<span class="ff9 fc9 ls32">&apos;<span class="ff8 fc6">%<span class="fc0 ls0">text</span></span></span></span></div><div class="t m0 x5 hf y791 ff9 fs5 fc8 sc0 ls9b">&apos;<span class="ff8 ls0 ws4">Hello World<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y792 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y793 ff1 fs3 fc0 sc0 ls0 ws3ad">但是，<span class="_ _6"></span>在<span class="_ _6"></span>新<span class="_ _6"></span>版本<span class="_ _6"></span>代<span class="_ _6"></span>码中，<span class="_ _6"></span>你<span class="_ _6"></span>应<span class="_ _6"></span>该优<span class="_ _6"></span>先<span class="_ _6"></span>选择 <span class="ff6 ws24c">format() </span><span class="ls30 ws3ae">函数或者方<span class="_ _6"></span>法<span class="_ _1"></span>。 <span class="ff6 ls0 ws24c">format() <span class="ff1">要</span></span></span></div><div class="t m0 x5 h7 y794 ff1 fs3 fc0 sc0 lsa2">比<span class="ff6 lsa3">%</span><span class="ls0 ws37c">操作符的功能更为强大。<span class="_ _c"></span>并且 <span class="ff6 ws3af">format() </span><span class="ws37d">也比使用 <span class="ff6 ws3b0">ljust() <span class="ff4 lsa4">,</span><span class="ws3b1">rjust() </span></span><span class="lsa2">或</span><span class="ff6">center()</span></span></span></div><div class="t m0 x5 h9 y795 ff1 fs3 fc0 sc0 ls0">方法更通用，因为它可以用来格式化任意对象，而不仅仅是字符串。</div><div class="t m0 x0 h7 y796 ff1 fs3 fc0 sc0 ls0 wsc">如果想要完全了解 <span class="ff6 ws26f">format() </span><span class="ws38">函数的有用特性，请参考 <span class="fc3 ws14">在线 <span class="ff4 ws5c">Python </span>文档</span></span></div><div class="t m0 x5 hd y797 ff2 fs4 fc4 sc0 ls0 ws211">4.14<span class="_ _e"> </span>2.14 <span class="ff1">合并拼接字符串</span></div><div class="t m0 x5 he y798 ff2 fs2 fc4 sc0 ls0 ws212">4.14.1 <span class="ff1">问题</span></div><div class="t m0 x0 h9 y799 ff1 fs3 fc0 sc0 ls0">你想将几个小的字符串合并为一个大的字符串</div><div class="t m0 x5 he y79a ff2 fs2 fc4 sc0 ls0 ws212">4.14.2 <span class="ff1">解决方案</span></div><div class="t m0 x0 h9 y79b ff1 fs3 fc0 sc0 ls3d ws3b2">如果你想要合并的字符串是在一个序列或者 <span class="ff6 ls0 ws214">iterable </span><span class="ws164">中，那么最快的方式就是使<span class="_ _1"></span></span></div><div class="t m0 x5 h9 y79c ff1 fs3 fc0 sc0 ls4">用<span class="ff6 ls0 ws25d">join() <span class="ff1">方法。比如：</span></span></div><div class="t m0 x5 hf y79d ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ws15f">parts <span class="fc6 ls33">=</span><span class="ws13a">[<span class="ff9 fc9 ls34">&apos;</span><span class="fc9">Is<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">Chicago<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">Not<span class="ff9 ws13b">&apos;</span></span><span class="ls33">,<span class="ff9 fc9 ls34">&apos;</span></span><span class="fc9">Chicago?<span class="ff9 ls34">&apos;</span></span>]</span></span></div><div class="t m0 x5 hf y79e ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ws38a">&apos; &apos;<span class="ff8 fc6 ls34">.<span class="fc0 ls0">join(parts)</span></span></span></div><div class="t m0 x5 hf y79f ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws4">Is Chicago Not Chicago?<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y7a0 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ls34">&apos;<span class="ff8 ls0 ws13a">,</span>&apos;<span class="ff8 fc6">.<span class="fc0 ls0">join(parts)</span></span></span></div><div class="t m0 x5 hf y7a1 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">Is,Chicago,Not,Chicago?<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y7a2 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff9 fc9 ws13b">&apos;&apos;<span class="ff8 fc6 ls34">.<span class="fc0 ls0">join(parts)</span></span></span></div><div class="t m0 x5 hf y7a3 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws13a">IsChicagoNotChicago?<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y7a4 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x0 h9 y7a5 ff1 fs3 fc0 sc0 lsa5 ws3b3">初看起来<span class="_ _1"></span>，这种语法看上去会比较怪<span class="_ _1"></span>，但是 <span class="ff6 ls0 ws3b4">join() </span><span class="ws3b5">被指定为字符串的一个方法<span class="_ _1"></span>。</span></div><div class="t m0 x5 h7 y7a6 ff1 fs3 fc0 sc0 ls6c ws3b6">这样做的部分原因是你想去连接的对象可能来自各种不同的数据序列 <span class="ff4 ls1b">(</span><span class="ls0 wsa0">比<span class="_ _6"></span>如<span class="_ _6"></span>列<span class="_ _6"></span>表，<span class="_ _6"></span>元</span></div><div class="t m0 x5 h7 y7a7 ff1 fs3 fc0 sc0 ls0 wsa0">组，<span class="_ _6"></span>字典，<span class="_ _6"></span>文<span class="_ _6"></span>件，<span class="_ _6"></span>集合<span class="_ _6"></span>或<span class="_ _6"></span>生<span class="_ _6"></span>成器<span class="_ _6"></span>等<span class="ff4 ls1b">)</span><span class="ws201">，<span class="_ _6"></span>如<span class="_ _6"></span>果在<span class="_ _6"></span>所<span class="_ _6"></span>有<span class="_ _6"></span>这些<span class="_ _6"></span>对<span class="_ _6"></span>象<span class="_ _6"></span>上都<span class="_ _6"></span>定<span class="_ _6"></span>义<span class="_ _6"></span>一<span class="_ _6"></span>个 <span class="ff6 ws3b7">join() </span></span>方法</div><div class="t m0 x5 h9 y7a8 ff1 fs3 fc0 sc0 ls0 ws3b8">明显是冗余的。因此你只需要指定你想要的分割字符串并调用他的 <span class="ff6 ws25d">join() </span>方法去将文</div><div class="t m0 x5 h9 y7a9 ff1 fs3 fc0 sc0 ls0">本片段组合起来。</div><div class="t m0 x0 h7 y7aa ff1 fs3 fc0 sc0 ls0 ws38">如果你仅仅只是合并少数几个字符串，使用加号 <span class="ff4 ws3b9">(+) </span>通常已经足够了：</div><div class="t m0 x5 hf y32f ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">=<span class="ff9 fc9 ls34">&apos;<span class="ff8 ls0 ws13b">Is Chicago<span class="ff9">&apos;</span></span></span></span></span></div><div class="t m0 x5 hf y330 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">b<span class="fc6 ls33">=<span class="ff9 fc9 ls34">&apos;<span class="ff8 ls0 ws13b">Not Chicago?<span class="ff9">&apos;</span></span></span></span></span></div><div class="t m0 x5 hf y331 ff7 fs5 fc5 sc0 ls0 ws139">&gt;&gt;&gt; <span class="ff8 fc0 ls32">a<span class="fc6 ls33">+</span></span><span class="ff9 fc9 ws38a">&apos; &apos; <span class="ff8 fc6 ls32">+<span class="fc0 ls0">b</span></span></span></div><div class="t m0 x5 hf y332 ff9 fs5 fc8 sc0 ls34">&apos;<span class="ff8 ls0 ws4">Is Chicago Not Chicago?<span class="ff9">&apos;</span></span></div><div class="t m0 x5 hf y333 ff8 fs5 fc8 sc0 ls0">&gt;&gt;&gt;</div><div class="t m0 x5 h9 y29 ff2 fs3 fc0 sc0 ls0 ws21d">4.14.<span class="_ _5"> </span>2.14 <span class="ff1 ws3ba">合并拼接字符串 </span>60</div><a class="l" href="https://docs.python.org/3/library/string.html#formatspec"><div class="d m1" style="border-style:none;position:absolute;left:570.031500px;bottom:857.167500px;width:93.179000px;height:16.821000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.500000,0.000000,0.000000,1.500000,0.000000,0.000000]}'></div></div>
